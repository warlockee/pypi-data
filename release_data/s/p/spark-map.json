{
    "0.2.7": {
        "info": {
            "author": "Pedro Faria",
            "author_email": "pedropark99@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description": "\n\n<!-- badges: start -->\n[![pytest](https://github.com/pedropark99/spark_map/actions/workflows/pytest.yml/badge.svg)](https://github.com/pedropark99/spark_map/actions/workflows/pytest.yml)\n<!-- badges: end -->\n\n# Overview\n\n`spark_map` is a python package that offers some tools that help you to apply a function over multiple columns of Apache Spark DataFrames, using `pyspark`. The package offers two main functions (or \"two main methods\") to distribute your calculations, which are `spark_map()` and `spark_across()`. Furthermore, the package offers several methods to map (or select) the columns to which you want to apply your calculations (these methods are called *mapping methods* in the package).\n\n# Installation\n\nTo get the latest version of `spark_map` at PyPI, use:\n\n```bash\npip install spark_map\n```\n\n# Documentation\n\nThe full documentation for `spark_map` package is available at the [website of the package](https://pedropark99.github.io/spark_map/). To access it, just use the `Function Reference` and `Articles` menus located at the top navigation bar of the website.\n\n\n\n# What problem `spark_map` solves?\n\nWhen you work a lot with data pipelines using Apache Spark and `pyspark`, at some day, you might find yourself writing a very long `agg()` statement to aggregate multiple columns of my Spark DataFrame with the same function, like this one below:\n\n```python\nfrom pyspark.sql.functions import sum, column\naggregates = (\n    spark.table('cards.detailed_sales_per_user')\n        .groupBy('day')\n        .agg(\n            sum(column('cards_lite')).alias('cards_lite'),\n            sum(column('cards_silver')).alias('cards_silver'),\n            sum(column('cards_gold')).alias('cards_gold'),\n            sum(column('cards_premium')).alias('cards_premium'),\n            sum(column('cards_enterprise')).alias('cards_enterprise'),\n            sum(column('cards_business')).alias('cards_business')\n        )\n)\n```\nThe problem with this code is that: it is not elegant; and it is error-prone. Because it involves copy and paste, and very subtle changes in each line. Following the golden rule of DRY (*do not repeat yourself*), we need a better way to write this code. That is the exact problem that `spark_map` solves for you!\n\nWhen you want to apply the same function (like `sum()`) over multiple columns of a Spark DataFrame (like `spark.table('cards.detailed_sales_per_user')`) that might be grouped by a variable (like `day`), you can use the `spark_map` package, to declare this operation in a much better, elegant and concise way, by using the `spark_map()` function.\n\n```python\nfrom spark_map.functions import spark_map\nfrom spark_map.mapping import starts_with\ngrouped_by_day = spark.table('cards.detailed_sales_per_user')\\\n    .groupBy('day')\n\naggregates = spark_map(grouped_by_day, starts_with('cards'), sum)\n```\n\n# How `spark_map()` works ?\n\nThe `spark_map()` function receives three inputs, which are `table` (i.e. the Spark DataFrame you want to use), `mapping` (i.e. a \"mapping\" that describes which columns you want to apply your function), and `function` (i.e. the function you want to apply to each column in the Spark DataFrame).\n\nIn short, the `starts_with('cards')` section in the above example tells `spark_map()` that you want to apply the input function on all columns of `grouped_by_day` whose name starts with the text `'cards'`. In other words, all `spark_map()` does is to apply the function you want (in the above example this function is `sum()`) to whatever column it finds in the input DataFrame which fits in the description of your mapping method.\n\nYou can use different mapping methods to select the columns of your DataFrame, and the package offers several built-in methods which can be very useful for you, which are available through the `spark_map.mapping` module of the package. You can select columns based on:\n\n- `at_position()`: their position (i.e. 3rd, 4th and 5th columns);\n- `matches()`: a regex to which their match;\n- `are_of_type()`: the type of data their store (i.e. all columns of type `int`);\n- `starts_with()` and `ends_with()`: its name starting or ending with a particular pattern;\n- `all_of()`: its name being inside a specific list of options;\n\n# Check the documentation for more examples and details\n\nThe [website](https://pedropark99.github.io/spark_map) have documentation for all functions of the package. If you have any trouble to understand or to find examples, is a good idea to check the [Function Reference](https://pedropark99.github.io/spark_map/reference-en.html) of the package, to see examples and more details about how each function works.\n\nTo understand how the mapping methods works, and how you can create your own mapping method, a good place to start is to read the article [Building the mapping](https://pedropark99.github.io/spark_map/english/articles/building-mapping.html) available at the website of the package.\n\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://pedropark99.github.io/spark_map/",
            "keywords": "spark,pyspark,map",
            "license": "MIT License",
            "maintainer": "",
            "maintainer_email": "",
            "name": "spark-map",
            "package_url": "https://pypi.org/project/spark-map/",
            "platform": null,
            "project_url": "https://pypi.org/project/spark-map/",
            "project_urls": {
                "Homepage": "https://pedropark99.github.io/spark_map/"
            },
            "release_url": "https://pypi.org/project/spark-map/0.2.7/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "Pyspark implementation of `map()` function for spark DataFrames",
            "version": "0.2.7",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16178514,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "f4de08b63032541208219d0082507f96",
                    "sha256": "63d2e46615227920e9bc5570a987b3d4f3dc5f9df04cb541069574c1f4022905"
                },
                "downloads": -1,
                "filename": "spark_map-0.2.7.tar.gz",
                "has_sig": false,
                "md5_digest": "f4de08b63032541208219d0082507f96",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 4996,
                "upload_time": "2022-12-21T23:36:40",
                "upload_time_iso_8601": "2022-12-21T23:36:40.409556Z",
                "url": "https://files.pythonhosted.org/packages/1d/f9/1f2c9ff2474e2768e70fd5edbaff54ba93b8875c98cefaa946061a072fb8/spark_map-0.2.7.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}