{
    "1.0.0": {
        "info": {
            "author": "",
            "author_email": "David Weir <dmw109@pitt.edu>, Jeff Weiss <jmw182@pitt.edu>, Tyler Madonna <tjm159@pitt.edu>, Tyler Simpson <tws21@pitt.edu>",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "pyrtma",
            "package_url": "https://pypi.org/project/pyrtma/",
            "platform": null,
            "project_url": "https://pypi.org/project/pyrtma/",
            "project_urls": {
                "Bug Tracker": "https://github.com/pitt-rnel/pyrtma/issues",
                "Homepage": "https://github.com/pitt-rnel/pyrtma"
            },
            "release_url": "https://pypi.org/project/pyrtma/1.0.0/",
            "requires_dist": null,
            "requires_python": ">=3.7",
            "summary": "A Python client for RTMA/Dragonfly",
            "version": "1.0.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15816456,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "292450be744db7bef3b3bdef933333ff",
                    "sha256": "bda353ee6b3ec8e87b992cd0ce1487a29f364b5c523b251a98ca03cc9064a9e4"
                },
                "downloads": -1,
                "filename": "pyrtma-1.0.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "292450be744db7bef3b3bdef933333ff",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 16660,
                "upload_time": "2022-09-29T19:58:25",
                "upload_time_iso_8601": "2022-09-29T19:58:25.296703Z",
                "url": "https://files.pythonhosted.org/packages/5c/24/dccfcfaf5c97c1db651036d646c0403a5d7b04f11c9c2820c364117988b3/pyrtma-1.0.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "b0e8a3652dd0539e160c7977362cfba9",
                    "sha256": "a59ebefb3da8a736ae2688da8a74aa0dd07813f0d07b923d06d00f7d1bc10360"
                },
                "downloads": -1,
                "filename": "pyrtma-1.0.0.tar.gz",
                "has_sig": false,
                "md5_digest": "b0e8a3652dd0539e160c7977362cfba9",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 15072,
                "upload_time": "2022-09-29T19:58:27",
                "upload_time_iso_8601": "2022-09-29T19:58:27.060147Z",
                "url": "https://files.pythonhosted.org/packages/9d/05/16ebd431f14b5ddb649f78bfe3edddff2cca54f891e69696e2f64297c4f2/pyrtma-1.0.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "1.1.0": {
        "info": {
            "author": "",
            "author_email": "David Weir <dmw109@pitt.edu>, Jeff Weiss <jmw182@pitt.edu>, Tyler Madonna <tjm159@pitt.edu>, Tyler Simpson <tws21@pitt.edu>",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description": "# pyrtma [![Python package](https://github.com/pitt-rnel/pyrtma/actions/workflows/python-package.yml/badge.svg)](https://github.com/pitt-rnel/pyrtma/actions/workflows/python-package.yml)\r\n\r\nRTMA/Dragonfly client written in python with no external dependencies. Based on and compatible with [Dragonfly Messaging](https://github.com/pitt-rnel/rnel_dragonfly)\r\n\r\n## Installation\r\n\r\npyrtma is [available on PyPI](https://pypi.org/project/pyrtma/)\r\n```shell\r\n$ pip install pyrtma\r\n```\r\n\r\n## Usage\r\n\r\n### Launch Manager\r\n\r\n```shell\r\n$ python -m pyrtma.manager -a \"127.0.0.1\"\r\n```\r\n\r\n### Create a message in message.h\r\n\r\nThe recommended way of creating messages is to define them in a C header file (.h file).\r\n\r\n```c\r\n// message.h\r\n\r\n// Module IDs\r\n#define MID_PERSON_MESSAGE 555\r\n\r\n// Message IDs\r\n#define MT_PERSON_MESSAGE 1234\r\n#define MT_ANOTHER_EXAMPLE 5678\r\n\r\n// We can define other constants as well\r\n#define STR_SIZE 32 \r\n\r\n\r\n// Message definitions\r\ntypedef struct {\r\n\tchar name[STR_SIZE];\r\n\tint age;\r\n} MDF_PERSON_MESSAGE;\r\n\r\ntypedef struct {\r\n\tchar value_str[STR_SIZE];\r\n\tint value_int;\r\n    float value_float;\r\n    double value_double\r\n} MDF_ANOTHER_EXAMPLE;\r\n```\r\n\r\nRun the following command to compile the header file into Python types and files. This will output a message.py file.\r\n\r\n```shell\r\n$ python -m pyrtma.compile -i message.h -o message.py\r\n```\r\n\r\n```python\r\n# message.py\r\nimport ctypes\r\nimport pyrtma\r\nfrom pyrtma.constants import *\r\n\r\n# User Constants: message.h\r\nSTR_SIZE = 32\r\n\r\n# User Message IDs: message.h\r\nMT_PERSON_MESSAGE = 1234\r\nMT_ANOTHER_EXAMPLE = 5678\r\n\r\n# User Module IDs: message.h\r\nMID_PERSON_MESSAGE = 555\r\n\r\n# User Type Definitions: message.h\r\n# User Message Definitions: message.h\r\n\r\n\r\n@pyrtma.msg_def\r\nclass MDF_PERSON_MESSAGE(pyrtma.MessageData):\r\n    _pack_ = True\r\n    _fields_ = [\r\n        (\"name\", ctypes.c_char * STR_SIZE),\r\n        (\"age\", ctypes.c_long)\r\n    ]\r\n    type_id = MT_PERSON_MESSAGE\r\n    type_name = \"PERSON_MESSAGE\"\r\n\r\n\r\n\r\n@pyrtma.msg_def\r\nclass MDF_ANOTHER_EXAMPLE(pyrtma.MessageData):\r\n    _pack_ = True\r\n    _fields_ = [\r\n        (\"value_str\", ctypes.c_char * STR_SIZE),\r\n        (\"value_int\", ctypes.c_long),\r\n        (\"value_float\", ctypes.c_float),\r\n        (\"value_double\", ctypes.c_double)\r\n    ]\r\n    type_id = MT_ANOTHER_EXAMPLE\r\n    type_name = \"ANOTHER_EXAMPLE\"\r\n```\r\n*Note: Messages can also be defined in a Python file without the compile step*\r\n\r\n### Create a publisher module in publisher.py\r\n```python\r\n# publisher.py\r\nimport message\r\nimport pyrtma\r\nimport time\r\n\r\nmod = pyrtma.Client()\r\n\r\n# Connect to the manager\r\nmod.connect(server_name=\"127.0.0.1:7111\")\r\n\r\n# Create an instance of the person message and populate with data\r\nmsg = message.MDF_PERSON_MESSAGE()\r\nmsg.name = \"Alice\"  # str gets converted to c_char\r\nmsg.age = 42\r\n\r\n# Send the person message every second\r\nwhile True:\r\n    print(\"Sending message\")\r\n    mod.send_message(msg)\r\n    time.sleep(1)\r\n```\r\n\r\n### Create a subscriber module in subscriber.py\r\n\r\n```python\r\n# subscriber.py\r\nimport message\r\nimport pyrtma\r\n\r\nmod = pyrtma.Client()\r\n\r\n# Connect to the manager\r\nmod.connect(server_name=\"127.0.0.1:7111\")\r\n\r\n# Subscribe to the person message and pyrtma's exit message (when manager is closed)\r\nmod.subscribe([message.MT_PERSON_MESSAGE, pyrtma.MT_EXIT])\r\n\r\nwhile True:\r\n    try:\r\n        # Read a message. We can specify a time. -1 means it will block until\r\n        # a message is received\r\n        msg = mod.read_message(timeout=-1)\r\n        if msg is not None:\r\n\r\n            # Find out what kind of message we received\r\n            # We can check the message id\r\n            if msg.type_id == message.MDF_PERSON_MESSAGE.type_id:\r\n                name = msg.data.name  # c_char get converted to str\r\n                age = msg.data.age\r\n                print(f\"Hello my name is {name} and I am {age} years old\")\r\n\r\n            # Or we can check the message name\r\n            elif msg.name == \"EXIT\":\r\n                print(\"Goodbye.\")\r\n                break\r\n\r\n    except KeyboardInterrupt:\r\n        break\r\n```\r\n\r\n### Launch the publisher\r\n```shell\r\n$ python publisher.py\r\n```\r\n\r\n### Launch the subscriber\r\nYou should see the message 'Hello my name is Alice and I am 42 years old' print in your shell\r\n```shell\r\n$ python subscriber.py\r\n```\r\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "pyrtma",
            "package_url": "https://pypi.org/project/pyrtma/",
            "platform": null,
            "project_url": "https://pypi.org/project/pyrtma/",
            "project_urls": {
                "Bug Tracker": "https://github.com/pitt-rnel/pyrtma/issues",
                "Homepage": "https://github.com/pitt-rnel/pyrtma"
            },
            "release_url": "https://pypi.org/project/pyrtma/1.1.0/",
            "requires_dist": null,
            "requires_python": ">=3.7",
            "summary": "A Python client for RTMA/Dragonfly",
            "version": "1.1.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15816456,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "cdc2331824b446c503bf953f935b56d1",
                    "sha256": "7a09f7ef5daaad9d07c3f451e853c2a8f31c6b4126c8a7d55e002af416a5a184"
                },
                "downloads": -1,
                "filename": "pyrtma-1.1.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "cdc2331824b446c503bf953f935b56d1",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 18102,
                "upload_time": "2022-11-18T15:33:03",
                "upload_time_iso_8601": "2022-11-18T15:33:03.531409Z",
                "url": "https://files.pythonhosted.org/packages/31/b3/77bce27b22a295cfd3d51f92a92c46056bf891c2b72bace9add01e267d5b/pyrtma-1.1.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "7f90ab6f8f4248793e712c84a6d4f410",
                    "sha256": "b3448657b446b777ed5c5b1e61a79e7faf2dbee6a4cdfeb788cf707d00edf355"
                },
                "downloads": -1,
                "filename": "pyrtma-1.1.0.tar.gz",
                "has_sig": false,
                "md5_digest": "7f90ab6f8f4248793e712c84a6d4f410",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 17168,
                "upload_time": "2022-11-18T15:33:05",
                "upload_time_iso_8601": "2022-11-18T15:33:05.254206Z",
                "url": "https://files.pythonhosted.org/packages/3c/5d/ac42bc9d15b9cdd8f09a82231fccb21298024f91bfbef7ac6b2fa55aef59/pyrtma-1.1.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}