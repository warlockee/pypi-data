{
    "0.3.2": {
        "info": {
            "author": "vikrant",
            "author_email": "cvikrant462@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3"
            ],
            "description": "# Generic Alert Library\n************************************************************************************************************************\n\nThis is a python module that is designed to provide a generic alert check mechanism which can be imported in any project for the following use cases that reduces boilerplate code.\n\n   * Check the report existence in S3.\n   * Validate Report Schema Definition including order sequence.\n   * Check Whether the File in S3 having Duplicate Rows.\n   * Check Whether the File in S3 is Empty.\n   * Email Alerts in case of success or failure.\n   * Status of Email existence for a given Subject.\n  \n## Installation\n*************************\nThe source code is currently hosted on ____ at:         \nBinary installers for the latest released version are available at the Python Package Index (PyPI):\n``` python\npip install genricAlert\n```\n#### Imports\n``` python\nfrom genricAlert import emailUtil, s3Util\n```\n# Library Usage\n***********************\n## 1) Sending an email:\n********************\nThis method is used to send an email via SMTP using gmail with port 587. \n#### Function Syntax:\n``` python\nsend_email(user_name: str, password: str, subject: str, msg_body: str, recipient_list: str)\n```\n#### Parameters:\n* ```user_name```: &nbsp;Required. The email address of the sender.\n* ```password```: &nbsp;&nbsp; Required. The password of the user email.\n* ```subject ``` : &nbsp;&nbsp; Required. The subject of the email that needs to be sent.\n* ```msg_body ```: &nbsp;Required. The content of the body of an email.\n* ```recipient_list```: &nbsp;Required. The list of users to whom the email needs to be sent.\n#### Sample Input Data:\n``` python\n  messageBody = '<!DOCTYPE html> <html> <head> <style> #customers { font-family: \"Trebuchet MS\", Arial, Helvetica, sans-serif; border-collapse: collapse; width: 100%; } #customers td, #customers th { border: 1px solid #ddd; padding: 8px; } #customers tr:nth-child(even){background-color: #f2f2f2;} #customers tr:hover {background-color: #ddd;} #customers th { padding-top: 12px; padding-bottom: 12px; text-align: left; background-color: #6a4c6e; color: white; } </style> </head> <body> <center><table id=\"customers\"> <caption><h2> Email Alert</h2></caption> <tr> <th>Date</th> <th>Subject</th> <th>Status</th> </tr><tr><td>12/12/2022</td><td>Send Email Alert Check</td><td bgcolor=\"green\">Success</td></tr><tr><td>13/12/2022</td><td>Send Email Alert Check</td><td bgcolor=\"red\">Failed:Login Unsuccessful</td></tr></table></body></html>'\n  emailUtil.send_email('testuser@testmail.com', 'Password*1234', \"Send Email Alert Check\", messageBody, ['recipient1@testmail.com','recipient2@testmail.com'])\n```\n#### Sample Output:\n| Output  | Scenario                                                                  |\n|---------|---------------------------------------------------------------------------|\n| Success | If the Email has been sent successfully.                                  |\n| Failed  | If the Email hasn't been sent successfully due to some errors/exceptions. |\n\n## 2) Check whether the Email Subject is present or not\n********************\nThis method will check whether the email is available in the inbox or not based on the subject. If the email is present, the method will return True. Else, False will be returned.\n#### Function Syntax:\n``` python\nis_mail_present(subject : str, look_back_period : int=0)\n```\n#### Parameters:\n* ```subject```:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Required. The subject of the email that needs to be sent. It is the primary search criteria.\n* ```look_back_period```: Optional(default will be 0).LookBack Period will be calculated as (today-```look_back_period```).<br />\n  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nIf ```look_back_period``` is 1,then the email search will be for (today-1).\n##### Syntax to create Email Object:\n``` python\nemailUtil.Config(report_email: str, email_password: str)\n```\n#### Parameters:\n* ```report_email```: &nbsp;&nbsp;&nbsp;&nbsp; Required. The email address of the sender.\n* ```email_password```: &nbsp;Required. The password of the user email.\n#### Sample Input Data:\n``` python\n# Email object has to be created before calling \"is_mail_present\" method\nemail_obj = emailUtil.Config('testuser@testmail.com', 'Password*1234')\n\n# To check if email is present\nemailSubject = \"Email Check In The Inbox\"\nemail_obj.is_mail_present(emailSubject, 0) \n```\n#### Sample Output:\n| Output | Scenario                                  |\n|--------|-------------------------------------------|\n| True   | If the Email is present in the Inbox.     |\n| False  | If the Email is not present in the Inbox. |\n\n## 3) Check if a File exists in the S3 directory\n*********\nThis method will check whether the file/report exists in the given S3 Directory or not. If the file is present in the S3 directory, the method will return True. Else, False will be returned.\n#### Function Syntax:\n``` python\ncheck_s3_path(s3_path: str)\n```\n#### Parameters:\n* ```s3_path```: Required. Path of the File/Report to be searched in the S3 Directory.\n#### Sample Input Data:\n``` python\n# S3 object should be created to access all the S3 related alert functionalities\ns3Obj = s3Util.Config()\n\ns3_path = 's3://test-root/sample-processed-data/test_delivery/Test_Id/'\ns3Obj.check_s3_path(s3_path)\n```\n#### Sample Output:\n| Output | Scenario                                                            |\n|--------|---------------------------------------------------------------------|\n| True   | If the File/Report is present in the given S3 Directory/Path.       |\n| False  | If the File/Report is not available in the given S3 Directory/Path. |\n\n## 4) Check Whether the File in S3 having any Duplicate Rows or not.\n***************\nThis method will check whether the report contains any duplicates at row level or not. If there are duplicates, it will return the count of duplicate rows.\n#### Function Syntax:\n``` python\ncheck_duplicate_data(s3_path: str, file_type: str,  header: bool = True, compression: str = 'infer',skip_rows: int = 0, skip_footer: int = 0, sep: str = ',')\n```\n#### Parameters:\n* ```s3_path```: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Required. Path of the File/Report to be checked for the Duplicate Rows.\n* ```file_type```:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Required. The file format can be **parquet**, **csv** or **excel**.\n* ```header```: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional. By Default header would be **True**.\n* ```compression```: &nbsp;Optional. The Default compression would be **infer**.\n* ```skip_rows```:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional. Default value would be **0**.\n* ```skip_footer```:&nbsp;&nbsp;Optional. Default value would be **0**.\n* ```sep```:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional. Default separator would be '**,**'.\n#### Sample Input Data:\n``` python\n# S3 object should be created to access all the S3 related alert functionalities\ns3Obj = s3Util.Config()\n\ns3_path = \"s3://test-root/sample-processed-data/test_delivery/Test_Id/\"\ns3Obj.check_duplicate_data(s3_path, 'parquet')\n```\n#### Sample Output:\n| Output                                                                                                       | Scenario                                        |\n|--------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n| [{'report_name': 'test_1.snappy.parquet',<br/>'error': True,<br/>'message': 'Number of duplicate row is 2'}] | If the File contains dupliacte rows.            |\n| [{'report_name': 'test_2.snappy.parquet',<br/>'error': False,<br/>'message': 'No duplicate row found'}]      | If the File doesnot contain any dupliacte rows. |\n\n## 5) Check for the Empty Report File\n********\nThis method will check whether the report is empty or not.It checks for the zero data records in the given file/report.\n#### Function syntax:\n``` python\ncheck_empty_data(self, s3_path: str, file_type: str, header: bool = True, compression: str = 'infer',skip_rows: int = 0, skip_footer: int = 0, sep: str = ',')\n```\n#### Parameters:\n* ```s3_path```: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Required. Path of the File/Report to be checked for the Duplicate Rows.\n* ```file_type```:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Required. The file format can be **parquet**, **csv** or **excel**.\n* ```header```: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional. By Default header would be **True**.\n* ```compression```: &nbsp;Optional. The Default compression would be **infer**.\n* ```skip_rows```:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional. Default value would be **0**.\n* ```skip_footer```:&nbsp;&nbsp;Optional. Default value would be **0**.\n* ```sep```:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional. Default separator would be '**,**'.\n#### Sample Input Data:\n``` python\n# s3 object should be created to access all the s3 related alert functionalities\ns3Obj = s3Util.Config()\n\ns3_path = \"s3://test-root/sample-processed-data/test_delivery/Test_Id/dayserial_numeric=20221225/\"\ns3Obj.check_empty_data(s3_path, 'csv', sep='\\t', compression='gzip')\n```\n#### Sample Output:\n| Output                                                                           | Scenario                                              |\n|----------------------------------------------------------------------------------|-------------------------------------------------------|\n| [{'report_name': '123456.tsv.gz','error': False,'message': 'Report has data'}]   | If the Report/File contains data.                     |\n| [{'report_name': '1234567.tsv.gz','error': True,'message': 'Report is empty'}]   | If the Report/File is empty without any data records. |\n\n## 6) Check the Schema of a File/Report\n********************\nThis method will check the schema of a file/report against the given expected schema. If the file format is parquet, the method will check if all the columns exist or not. If the file format is other than parquet, the method will check the order of the expected schema with the schema of the input file. Also,headers and footers will be taken into account in case of csv and excel files.\n#### Function syntax:\n``` python\ncheck_schema(self, s3_path: str, file_type: str, expected_schema: list, header: bool = True, compression: str = 'infer', skip_rows: int = 0, skip_footer: int = 0, sep: str = ',')\n```\n#### Parameters:\n* ```s3_path```: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Required. Path of the File/Report to be checked for the Duplicate Rows.\n* ```file_type```:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Required. The file format can be **parquet**, **csv** or **excel**.\n* ```header```: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional. By Default header would be **True**.\n* ```compression```: &nbsp;Optional. The Default compression would be **infer**.\n* ```skip_rows```:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional. Default value would be **0**.\n* ```skip_footer```:&nbsp;&nbsp;Optional. Default value would be **0**.\n* ```sep```:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional. Default separator would be '**,**'.\n#### Sample Input Data:\n``` python\n# S3 object should be created to access all the S3 related alert functionalities\ns3Obj = s3Util.Config()\n\ns3_path = \"s3_path = \"s3://test-schema/test/Schema_Check_Lookup.xlsx\"\nexpected_schema = ['Column1.id', 'Column1.is_mobile', 'Column1.name']\ns3Obj.check_schema(s3_path, 'excel', expected_schema)\n```\n#### Sample Output:\n| Output                                                                                                                                                                                                     | Scenario                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|\n| [{'report_name': 'Schema_Check_Lookup.xlsx',<br/>'error': True,<br/>'message': 'Report schema order is different than expected',<br/>'report_schema': ['Column1.id', 'Column1.name', 'Column1.is_mobile']}] | If the Report Schema order is different than the Expected Schema Order.|\n| [{'report_name': 'Schema_Check_Lookup.xlsx',<br/>'error': False,<br/>'message': 'Success',<br/>'report_schema': ['Column1.id', 'Column1.name', 'Column1.is_mobile']}]                                     | If the Schema of the Report matches the Expected Schema.               |\n| [{'report_name': 'Schema_Check_Lookup.xlsx',<br/>'error': True,<br/>'message': 'Report schema is different than expected',<br/>'report_schema': ['Column1.id', 'Column1.name', 'Column1.is_mobile']}]     | If the Schema of the report is different than the expected Schema.     |\n# License\n********\nMIQ\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/vikrant462/pypi/genricAlert",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "genricAlert",
            "package_url": "https://pypi.org/project/genricAlert/",
            "platform": null,
            "project_url": "https://pypi.org/project/genricAlert/",
            "project_urls": {
                "Bug Tracker": "https://github.com/vikrant462/pypi/genricAlert/issues",
                "Homepage": "https://github.com/vikrant462/pypi/genricAlert"
            },
            "release_url": "https://pypi.org/project/genricAlert/0.3.2/",
            "requires_dist": null,
            "requires_python": ">=3.7",
            "summary": "check presence of s3Path, email reports, duplicacy in data and send mail.",
            "version": "0.3.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16281422,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "blake2b_256": "ec76ca3e15d84d06e0e76776b8ece6883ae7db9effe836dff0cd551a0ad46cef",
                    "md5": "f91d3291975a47b1c4b91b7379313bf2",
                    "sha256": "f850e1949fc36584a490ee027494030576127ed30dd3cf907e8a95bdf00b7b2d"
                },
                "downloads": -1,
                "filename": "genricAlert-0.3.2-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "f91d3291975a47b1c4b91b7379313bf2",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 7077,
                "upload_time": "2023-01-02T18:56:36",
                "upload_time_iso_8601": "2023-01-02T18:56:36.740966Z",
                "url": "https://files.pythonhosted.org/packages/ec/76/ca3e15d84d06e0e76776b8ece6883ae7db9effe836dff0cd551a0ad46cef/genricAlert-0.3.2-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "blake2b_256": "b5aae4b234694fb815daa87d4c656ee40e566804a30bd03ac3cfc3bef15a96ae",
                    "md5": "9232d9339ae21c1bd99eefd6f6271406",
                    "sha256": "f0c5577a2cc02d1afb53948e49e85c751db5c198a85287e61a057985bfeb9e83"
                },
                "downloads": -1,
                "filename": "genricAlert-0.3.2.tar.gz",
                "has_sig": false,
                "md5_digest": "9232d9339ae21c1bd99eefd6f6271406",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 9381,
                "upload_time": "2023-01-02T18:56:39",
                "upload_time_iso_8601": "2023-01-02T18:56:39.515266Z",
                "url": "https://files.pythonhosted.org/packages/b5/aa/e4b234694fb815daa87d4c656ee40e566804a30bd03ac3cfc3bef15a96ae/genricAlert-0.3.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}