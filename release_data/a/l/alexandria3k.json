{
    "0.0.2": {
        "info": {
            "author": "",
            "author_email": "Diomidis Spinellis <dds@aueb.gr>",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 3 - Alpha",
                "Environment :: Console",
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Database",
                "Topic :: Scientific/Engineering :: Information Analysis",
                "Topic :: Software Development :: Libraries :: Python Modules"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "alexandria3k",
            "package_url": "https://pypi.org/project/alexandria3k/",
            "platform": null,
            "project_url": "https://pypi.org/project/alexandria3k/",
            "project_urls": {
                "Bug Tracker": "https://github.com/dspinellis/alexandria3k/issues",
                "Homepage": "https://github.com/dspinellis/alexandria3k"
            },
            "release_url": "https://pypi.org/project/alexandria3k/0.0.2/",
            "requires_dist": null,
            "requires_python": ">=3.7",
            "summary": "Efficient relational database queries over the entire CrossRef data set",
            "version": "0.0.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16166295,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "c4d422c38497af000a0f4b57fdfe6f4b",
                    "sha256": "cf441ffc2747c280428a138f4276646ec66442ea89f8585986b554650c2f13b8"
                },
                "downloads": -1,
                "filename": "alexandria3k-0.0.2-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "c4d422c38497af000a0f4b57fdfe6f4b",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 59448,
                "upload_time": "2022-12-06T19:26:37",
                "upload_time_iso_8601": "2022-12-06T19:26:37.466394Z",
                "url": "https://files.pythonhosted.org/packages/95/9c/d3d28e7d2bfadb1312dfe295e030fbbcd056257a46787296a55af046d453/alexandria3k-0.0.2-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "6541be29605dac82827498e76267cd28",
                    "sha256": "60fa32ad6052b1b9531f1494ff5ee5eab522171b463bdcec06171f060e10fea6"
                },
                "downloads": -1,
                "filename": "alexandria3k-0.0.2.tar.gz",
                "has_sig": false,
                "md5_digest": "6541be29605dac82827498e76267cd28",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 234712,
                "upload_time": "2022-12-06T19:26:41",
                "upload_time_iso_8601": "2022-12-06T19:26:41.115823Z",
                "url": "https://files.pythonhosted.org/packages/c7/94/91dcf9c6aa23883e0aedd249b9b6a6656d4481e765ffd16cbeee6478e99a/alexandria3k-0.0.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.3": {
        "info": {
            "author": "",
            "author_email": "Diomidis Spinellis <dds@aueb.gr>",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Environment :: Console",
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Database",
                "Topic :: Scientific/Engineering :: Information Analysis",
                "Topic :: Software Development :: Libraries :: Python Modules"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "alexandria3k",
            "package_url": "https://pypi.org/project/alexandria3k/",
            "platform": null,
            "project_url": "https://pypi.org/project/alexandria3k/",
            "project_urls": {
                "Bug Tracker": "https://github.com/dspinellis/alexandria3k/issues",
                "Homepage": "https://github.com/dspinellis/alexandria3k"
            },
            "release_url": "https://pypi.org/project/alexandria3k/0.0.3/",
            "requires_dist": [
                "apsw"
            ],
            "requires_python": ">=3.7",
            "summary": "Efficient relational database queries over the entire Crossref abnd ORCID data sets",
            "version": "0.0.3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16166295,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "1a0d34a4b73035d8bbda38833ec93377",
                    "sha256": "4c011cd94ca531ae2804563e9eaea34d3e0d3b9e4751eb04b75523ab196e237d"
                },
                "downloads": -1,
                "filename": "alexandria3k-0.0.3-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "1a0d34a4b73035d8bbda38833ec93377",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 59532,
                "upload_time": "2022-12-06T22:25:49",
                "upload_time_iso_8601": "2022-12-06T22:25:49.945337Z",
                "url": "https://files.pythonhosted.org/packages/01/ac/cfc769fec236c109effd3b3008c92c7edb1f45fb529c62e80b0b7e48b4b1/alexandria3k-0.0.3-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "964de6ce49a463991d955ea420608fd4",
                    "sha256": "15de17994de0431a5fa4474ff6894a40a7a51897d0db5545d3ce77a4818b9059"
                },
                "downloads": -1,
                "filename": "alexandria3k-0.0.3.tar.gz",
                "has_sig": false,
                "md5_digest": "964de6ce49a463991d955ea420608fd4",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 234709,
                "upload_time": "2022-12-06T22:25:53",
                "upload_time_iso_8601": "2022-12-06T22:25:53.442119Z",
                "url": "https://files.pythonhosted.org/packages/c0/0c/fbbfdd3c7dac76921bba32997db72aed0b3349a8a689b8822de4907c17d7/alexandria3k-0.0.3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.4": {
        "info": {
            "author": "",
            "author_email": "Diomidis Spinellis <dds@aueb.gr>",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Environment :: Console",
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Database",
                "Topic :: Scientific/Engineering :: Information Analysis",
                "Topic :: Software Development :: Libraries :: Python Modules"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "alexandria3k",
            "package_url": "https://pypi.org/project/alexandria3k/",
            "platform": null,
            "project_url": "https://pypi.org/project/alexandria3k/",
            "project_urls": {
                "Bug Tracker": "https://github.com/dspinellis/alexandria3k/issues",
                "Homepage": "https://github.com/dspinellis/alexandria3k"
            },
            "release_url": "https://pypi.org/project/alexandria3k/0.0.4/",
            "requires_dist": [
                "apsw"
            ],
            "requires_python": ">=3.7",
            "summary": "Efficient relational database queries over the entire Crossref abnd ORCID data sets",
            "version": "0.0.4",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16166295,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "637423ac653082ea80f99d472c508032",
                    "sha256": "4a897cbd336426942f051f15f3190161e2b6083dc0d21d7a1abb05348e10b3ae"
                },
                "downloads": -1,
                "filename": "alexandria3k-0.0.4-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "637423ac653082ea80f99d472c508032",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 59779,
                "upload_time": "2022-12-07T08:06:49",
                "upload_time_iso_8601": "2022-12-07T08:06:49.061925Z",
                "url": "https://files.pythonhosted.org/packages/99/ec/07a1eb7ae9d1e488e683c1548f309b251518dbec1559e873768f4a48f6bf/alexandria3k-0.0.4-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "32b941c739dab9063b8bd590451dae9b",
                    "sha256": "b25615e9aed86c1ec31cb2268147105ecfd1e4d4e0f84371695a5667cad6d9b1"
                },
                "downloads": -1,
                "filename": "alexandria3k-0.0.4.tar.gz",
                "has_sig": false,
                "md5_digest": "32b941c739dab9063b8bd590451dae9b",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 234702,
                "upload_time": "2022-12-07T08:06:53",
                "upload_time_iso_8601": "2022-12-07T08:06:53.152772Z",
                "url": "https://files.pythonhosted.org/packages/67/f2/50c59c6308ea70107da089787ee94aefe1b0c929bd0829dc05a226775b22/alexandria3k-0.0.4.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.5": {
        "info": {
            "author": "",
            "author_email": "Diomidis Spinellis <dds@aueb.gr>",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Environment :: Console",
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Database",
                "Topic :: Scientific/Engineering :: Information Analysis",
                "Topic :: Software Development :: Libraries :: Python Modules"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "alexandria3k",
            "package_url": "https://pypi.org/project/alexandria3k/",
            "platform": null,
            "project_url": "https://pypi.org/project/alexandria3k/",
            "project_urls": {
                "Bug Tracker": "https://github.com/dspinellis/alexandria3k/issues",
                "Homepage": "https://github.com/dspinellis/alexandria3k"
            },
            "release_url": "https://pypi.org/project/alexandria3k/0.0.5/",
            "requires_dist": [
                "apsw"
            ],
            "requires_python": ">=3.7",
            "summary": "Efficient relational database queries over the entire Crossref abnd ORCID data sets",
            "version": "0.0.5",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16166295,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "18c5d5bef313b7e78c6aee963d336d74",
                    "sha256": "774237a9b82d63abc611f133b558c0efd20286be1aec2e05ab277515a237e0ce"
                },
                "downloads": -1,
                "filename": "alexandria3k-0.0.5-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "18c5d5bef313b7e78c6aee963d336d74",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 59547,
                "upload_time": "2022-12-13T09:53:20",
                "upload_time_iso_8601": "2022-12-13T09:53:20.540562Z",
                "url": "https://files.pythonhosted.org/packages/0f/39/92f6f2d64ea9b11e3fa858cca4521c71d3f70b5753daae87b71cb6ed53ec/alexandria3k-0.0.5-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "0cc1c390bc4b7f4b7069213d9f147e48",
                    "sha256": "ad4ad8f08e8dee265060add479c0a75485032c5e69a01d5dde483853d4259833"
                },
                "downloads": -1,
                "filename": "alexandria3k-0.0.5.tar.gz",
                "has_sig": false,
                "md5_digest": "0cc1c390bc4b7f4b7069213d9f147e48",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 101861,
                "upload_time": "2022-12-13T09:53:23",
                "upload_time_iso_8601": "2022-12-13T09:53:23.039435Z",
                "url": "https://files.pythonhosted.org/packages/8a/96/ea50400f1fb99ceebb169a77f4de8e69cfc09ea7eee8049a792889c9aa14/alexandria3k-0.0.5.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "1.0.0": {
        "info": {
            "author": "",
            "author_email": "Diomidis Spinellis <dds@aueb.gr>",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 4 - Beta",
                "Environment :: Console",
                "Intended Audience :: Science/Research",
                "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Database",
                "Topic :: Scientific/Engineering :: Information Analysis",
                "Topic :: Software Development :: Libraries :: Python Modules"
            ],
            "description": "## Alexandria3k\n\nThe _alexandria3k_ package\nsupplies a library and a command-line tool providing efficient relational query\naccess the entire\n[Crossref data set](https://www.nature.com/articles/d41586-022-02926-y)\n(157 GB compressed, 1 TB uncompressed).\nThis contains publication metadata from about 134 million publications from\nall major international publishers with full citation data for 60 million\nof them.\nThe _alexandria3k_ package installation contains all elements required\nto run it.\nIt does not require the installation, configuration, and maintenance\nof a third party relational or graph database.\nIt can therefore be used out-of-the-box for performing reproducible\npublication research on the desktop.\n\nIn addition,\nthe Crossref data set can be linked with:\n* the [ORCID summary data set](https://support.orcid.org/hc/en-us/articles/360006897394-How-do-I-get-the-public-data-file-)\n  (25 GB compressed, 435 GB uuncompressed),\n  containing about 78 million author records, and\n* a data set of funder bodies corresponding to funder DOIs,\n* a data set of journal names corresponding to journal ISSNs,\n* a data set of open access journal data.\n\n## Installation\nThe easiest way to install _alexandria3k_ and its dependencies is through\n[PyPI](https://pypi.org/):\n```sh\npython3 -m pip install alexandria3k\n```\nor\n```sh\npip install alexandria3k\n```\n\n## Data downloading\n\n### Crossref data\nThe main data set on which _alexandria3k_ operates is that\nof [Crossref](https://www.crossref.org), comprising about 130 million\npublication metadata records with more than 1.7 billion reference\nrecords and 359 million author records.\nYou can obtain the data from\n[Acedemic Torrents](https://academictorrents.com/browse.php?search=crossref)\nusing a torrent client of your choice.\nBelow is an example of commands that download the April 2022 Crossref snapshot\n(the one on which _alexandria3k_ has been tested) using the\n[aria2c](https://aria2.github.io/) download utility.\n\n```sh\n# Download Crossref data (168 GB) through the torrent link\naria2c https://doi.org/10.13003/83b2gq\n```\n\nCurrently, the Crossref data set is split into about 26 thousand compressed\nfiles, each containing JSON data for 3000 publications (works).\n_Alexandria3k_ provides a relational view of these data, and\nalso allows the sampling of a subset of the container files\nto quickly experiment with queries, before they are run on the complete set.\n\n### ORCID data\nYou can populate a database with data regarding authors (URLs, countries,\nexternal identifiers, education, employment, works, etc.) from the\n[ORCID](https://orcid.org/) initiative.\nFor this you need to download the _summary file_\nof the ORCID Public Data File (e.g. `ORCID_2022_10_summaries.tar.gz` \u2014 25GB)\nthrough [Figshare](https://orcid.figshare.com/).\nNote that _alexandria3k_ works on the compressed file;\nthere is no need to expand it (it expands to about 0.5 PB).\n\n### Other data sources\nThe _alexandria3k_ system can also add to a database the following\ntables.\nYou can download the data and point _alexandria3k_ to the corresponding file,\nor, because the data sets are relatively small, you can provide _alexandria3k_\nthe URL from which it will directly stream the data to populate the database.\n\n* [Crossref journal data](http://ftp.crossref.org/titlelist/titleFile.csv)\n* [Crossref funder data](https://doi.crossref.org/funderNames?mode=list)\n* [Open access journal metadata](https://doaj.org/csv) from the [https://doaj.org/](directory of open access journals)\n\n## Use overview\nAfter downloading the Crossref data you can use _alexandria3k_ through its\nPython API or as a command-line tool.\nThese are the things you can do with _alexandria3k_.\n\n* Directly run ad hoc SQL queries on the Crossref data\n* Populate SQLite databases with Crossref, ORCID, DOAJ, and other data\n  * Select a horizontal subset of Crossref records\n    * Through an SQL expression\n    * By sampling a subset of the 26 thousand containers in the data set\n  * Select a horizontal subset of ORCID records by only loading those\n    associated with already populated Crossref records\n  * Select a vertical subset of Crossref or ORCID columns\n    * Using the `Table.Column` or `Table.*` notation\n\nPopulating a database can take\nminutes (for a small, e.g. experimental, subset),\na few hours (to traverse the whole Crossref data set and obtain a few thousands\nof records),\nor a couple of days (to produce a large set, e.g. by selecting some columns).\n\nAfter your populate an SQLite database and create suitable indexes,\nSQL queries often run in seconds.\n\n## Relational schema\nThe complete schema of a fully-populated database appears below.\n(Follow the linked image to the \"Raw\" file to see it in full size.)\nDirect SQL queries can also be performed on the Crossref data set.\n\n![Database schema](./schema.svg)\n\nQueries involving multiple scans of the tables (e.g. relational joins)\nshould be performed by directing _alexandria3k_ to perform them separately\nin each partition.\nThis however means that aggregation operations will not work as expected,\nbecause they will be run multiple times (once for every partition).\n\n## Command line execution\n\n### Obtain list of command-line options\n```sh\nalexandria3k --help\n```\n\n### Show DOI and title of all publications\n```sh\nalexandria3k --data-source Crossref 'April 2022 Public Data File from Crossref' \\\n   --query 'SELECT DOI, title FROM works'\n```\n\n### Save DOI and title of 2021 publications in a CSV file suitable for Excel\n```sh\nalexandria3k --data-source Crossref 'April 2022 Public Data File from Crossref' \\\n  --query 'SELECT DOI, title FROM works WHERE published_year = 2021' \\\n  --output 2021.csv \\\n  --output-encoding use utf-8-sig\n```\n\n### Count Crossref publications by year and type\nThis query performs a single pass through the data set to obtain\nthe number of Crossref publications by year and publication type.\n```sh\nalexandria3k --data-source Crossref 'April 2022 Public Data File from Crossref' \\\n   --query-file count-year-type.sql >results.csv\n```\nwhere `count-year-type.sql` contains:\n```sql\nWITH counts AS (\n  SELECT\n    published_year AS year,\n    type,\n    Count(*) AS number\nFROM   works\n    GROUP by published_year, type)\n\nSELECT year AS name, Sum(number) FROM counts\n  GROUP BY year\nUNION\nSELECT type AS name, Sum(number) FROM counts\n  GROUP BY type\n```\n\n### Sampling\nThe following command counts the number of publication that have\nor do not have an abstract in an approximately 1% sample\nof the data set's containers.\nIt uses a tab character ('\\t') to separate the output fields.\nThrough sampling the data containers it runs in a couple of minutes,\nrather than hours.\n```sh\nalexandria3k --data-source Crossref 'April 2022 Public Data File from Crossref'  \\\n   --sample 'random.random() < 0.01' \\\n   --field-separator $'\\t' \\\n   --query-file count-no-abstract.sql\n```\nwhere `count-no-abstract.sql` contains:\n```sql\nSELECT works.abstract is not null AS have_abstract, Count(*)\n  FROM works GROUP BY have_abstract\n```\n\n### Database of COVID research\nThe following command creates an SQLite database with all Crossref data\nregarding publications that contain \"COVID\" in their title or abstract.\n```sh\nalexandria3k --data-source Crossref 'April 2022 Public Data File from Crossref' \\\n   --populate-db-path covid.db \\\n   --row-selection \"title like '%COVID%' OR abstract like '%COVID%' \"\n```\n\n### Publications graph\nThe following command selects only a subset of columns of the complete\nCrossref data set to create a graph between navigable entities.\n```sh\nalexandria3k --data-source Crossref 'April 2022 Public Data File from Crossref' \\\n   --populate-db-path graph.db \\\n   --columns works.doi work_references.work_id work_references.doi work_funders.id \\\n    work_funders.work_id work_funders.doi funder_awards.funder_id funder_awards.name \\\n    author_affiliations.author_id author_affiliations.name work_subjects.work_id work_subjects.name \\\n    work_authors.id work_authors.work_id work_authors.orcid\n```\n\nThrough this data set you can run on the database queries such as the following.\n```sql\nSELECT COUNT(*) FROM works;\nSELECT COUNT(*) FROM (SELECT DISTINCT work_id FROM works_subjects);\nSELECT COUNT(*) FROM (SELECT DISTINCT work_id FROM work_references);\nSELECT COUNT(*) FROM affiliations_works;\nSELECT COUNT(*) FROM (SELECT DISTINCT work_id FROM work_funders);\n\nSELECT COUNT(*) FROM work_authors;\nSELECT COUNT(*) FROM work_authors WHERE orcid is not null;\nSELECT COUNT(*) FROM (SELECT DISTINCT orcid FROM work_authors);\n\nSELECT COUNT(*) FROM authors_affiliations;\nSELECT COUNT(*) FROM affiliation_names;\n\nSELECT COUNT(*) FROM works_subjects;\nSELECT COUNT(*) FROM subject_names;\n\nSELECT COUNT(*) FROM work_funders;\nSELECT COUNT(*) FROM funder_awards;\n\nSELECT COUNT(*) FROM work_references;\n```\n\n### Populate the database with author records from ORCID\nOnly records of authors identified in the publications through an\nORCID will be added.\n```sh\nalexandria3k --populate-db-path database.db \\\n  --data-source ORCID ORCID_2022_10_summaries.tar.gz \\\n  --linked-records persons\n```\n\n### Populate the database with journal names\n```sh\nalexandria3k  --populate-db-path database.db \\\n  --data-source journal-names http://ftp.crossref.org/titlelist/titleFile.csv\n```\n\n### Populate the database with funder names\n```sh\nalexandria3k  --populate-db-path database.db \\\n  --data-source funder-names https://doi.crossref.org/funderNames?mode=list\n```\n\n### Populate the database with data regarding open access journals\n```sh\nalexandria3k  --populate-db-path database.db \\\n  --data-source doaj https://doaj.org/csv\n```\n\n## Command-line options reference\n<!-- CLI start -->\n```\nusage: alexandria3k [-h] [-c COLUMNS [COLUMNS ...]] [-D DEBUG [DEBUG ...]]\n                    [-d DATA_SOURCE [DATA_SOURCE ...]] [-E OUTPUT_ENCODING]\n                    [-F FIELD_SEPARATOR] [-H] [-i [INDEX ...]] [-L]\n                    [-l LINKED_RECORDS] [-n] [-o OUTPUT] [-P]\n                    [-p POPULATE_DB_PATH] [-Q QUERY_FILE] [-q QUERY]\n                    [-R ROW_SELECTION_FILE] [-r ROW_SELECTION] [-s SAMPLE]\n\nalexandria3k: Publication metadata interface\n\noptional arguments:\n  -h, --help            show this help message and exit\n  -c COLUMNS [COLUMNS ...], --columns COLUMNS [COLUMNS ...]\n                        Columns to populate using table.column or table.*\n  -D DEBUG [DEBUG ...], --debug DEBUG [DEBUG ...]\n                        Output debuggging information as specfied by the\n                        arguments. files-read: Output counts of data files\n                        read; log-sql: Output executed SQL statements; perf:\n                        Output performance timings; populated-counts: Dump\n                        counts of the populated database; populated-data: Dump\n                        the data of the populated database; populated-reports:\n                        Output query results from the populated database;\n                        progress: Report progress; stderr: Log to standard\n                        error; virtual-counts: Dump counts of the virtual\n                        database; virtual-data: Dump the data of the virtual\n                        database.\n  -d DATA_SOURCE [DATA_SOURCE ...], --data-source DATA_SOURCE [DATA_SOURCE ...]\n                        Specify data set to be processed and its source. The\n                        following data sets are supported. Crossref\n                        <container-directory> DOAJ [<CSV-file> | <URL>]\n                        (defaults to https://doaj.org/csv) funder-names [<CSV-\n                        file> | <URL>] (defaults to\n                        https://doi.crossref.org/funderNames?mode=list)\n                        journal-names [<CSV-file> | <URL>] (defaults to\n                        http://ftp.crossref.org/titlelist/titleFile.csv) ORCID\n                        <summaries.tar.gz-file>\n  -E OUTPUT_ENCODING, --output-encoding OUTPUT_ENCODING\n                        Query output character encoding (use utf-8-sig for\n                        Excel)\n  -F FIELD_SEPARATOR, --field-separator FIELD_SEPARATOR\n                        Character to use for separating query output fields\n  -H, --header          Include a header in the query output\n  -i [INDEX ...], --index [INDEX ...]\n                        SQL expressions that select the populated rows\n  -L, --list-schema     List the schema of the scanned database\n  -l LINKED_RECORDS, --linked-records LINKED_RECORDS\n                        Only add ORCID records that link to existing <persons>\n                        or <works>\n  -n, --normalize       Normalize relations in the populated Crossref database\n  -o OUTPUT, --output OUTPUT\n                        Output file for query results\n  -P, --partition       Run the query over partitioned data slices. (Warning:\n                        arguments are run per partition.)\n  -p POPULATE_DB_PATH, --populate-db-path POPULATE_DB_PATH\n                        Populate the SQLite database in the specified path\n  -Q QUERY_FILE, --query-file QUERY_FILE\n                        File containing query to run on the virtual tables\n  -q QUERY, --query QUERY\n                        Query to run on the virtual tables\n  -R ROW_SELECTION_FILE, --row-selection-file ROW_SELECTION_FILE\n                        File containing SQL expression that selects the\n                        populated rows\n  -r ROW_SELECTION, --row-selection ROW_SELECTION\n                        SQL expression that selects the populated rows\n  -s SAMPLE, --sample SAMPLE\n                        Python expression to sample the Crossref tables (e.g.\n                        random.random() < 0.0002)\n```\n<!-- CLI end -->\n\n## Python API\nAfter downloading the Crossref data, the functionality of _alexandria3k_\ncan be accessed through its Python API,\neither interactively (for exploratory data analytics) or through\nPython scripts (for long-running jobs and for documenting research methods\nas repeatable processes).\n\n### Create a Crossref object\nCrossref functionality is accessed by means of a corresponding object\ncreated by specifying the data directory.\n\n```py\nfrom alexandria3k.crossref import Crossref\n\ncrossref_instance = Crossref('April 2022 Public Data File from Crossref')\n```\n\nYou can also add a parameter indicating how to sample the containers.\n```py\nfrom random import random, seed\n\nfrom alexandria3k.crossref import Crossref\n\n# Randomly (but deterministically) sample 1% of the containers\nseed(\"alexandria3k\")\ncrossref_instance = Crossref('April 2022 Public Data File from Crossref',\n  lambda _name: random() < 0.01)\n```\n\n### Iterate through the DOI and title of all publications\n```py\nfor (doi, title) in crossref_instance.query('SELECT DOI, title FROM works'):\n    print(doi, title)\n```\n\n### Create a dictionary of which 2021 publications were funded by each body\nHere `partition=True` is passed to the `query` method in order to\nhave the query run separately (and therefore efficiently) on each\nCrossref data container.\n\n```py\nfrom collections import defaultdict\n\nworks_by_funder = defaultdict(list)\n\nfor (funder_doi, work_doi) in crossref_instance.query(\n    \"\"\"\n   SELECT work_funders.doi, works.doi FROM works\n       INNER JOIN work_funders on work_funders.work_id = works.id\n       WHERE published_year = 2021\n    \"\"\",\n    partition=True,\n):\n    works_by_funder[funder_doi].append(work_doi)\n```\n\n### Database of COVID research\nThe following command creates an SQLite database with all Crossref data\nregarding publications that contain \"COVID\" in their title or abstract.\n```py\ncrossref_instance.populate(\n    \"covid.db\", condition=\"title like '%COVID%' OR abstract like '%COVID%'\"\n)\n```\n\n### Reference graph\nThe following command populates an SQLite database by selecting only a subset\nof columns of the complete Crossref data set to create a navigable graph\nbetween publications and their references.\n```py\ncrossref_instance.populate(\n    \"references.db\",\n    columns=[\n        \"works.id\",\n        \"works.doi\",\n        \"work_references.work_id\",\n        \"work_references.doi\",\n    ],\n    condition=\"work_references.doi is not null\",\n)\n```\n\n### Populate the database from ORCID\nAdd tables containing author country and education organization.\nOnly records of authors identified in the publications through an\nORCID will be added.\n```py\nfrom alexandria3k import orcid\n\norcid.populate(\n    \"ORCID_2022_10_summaries.tar.gz\",\n    \"database.db\",\n    columns=[\n        \"person_countries.*\",\n        \"person_educations.orcid\",\n        \"person_educations.organization_name\",\n    ],\n    authors_only=True,\n    works_only=False\n)\n```\n\n### Populate the database with journal names\n```py\nfrom alexandria3k import csv_sources\n\ncsv_sources.populate_journal_names(\n    \"database.db\",\n    \"http://ftp.crossref.org/titlelist/titleFile.csv\"\n)\n```\n\n### Populate the database with funder names\n```py\nfrom alexandria3k import csv_sources\n\ncsv_sources.populate_funder_names(\n    \"database.db\",\n    \"https://doi.crossref.org/funderNames?mode=list\"\n)\n```\n\n### Populate the database with data regarding open access journals\n```py\nfrom alexandria3k import csv_sources\n\ncsv_sources.populate_open_access_journals(\n    \"database.db\",\n    \"https://doaj.org/csv\"\n)\n```\n\n## Development\nFor software development purposes _alexandria3k_ can also be installed\nand used through its\n[Github repository](https://github.com/dspinellis/alexandria3k),\nrather than as a Python package.\n\n### Installation\n```sh\ngit clone https://github.com/dspinellis/alexandria3k.git\ncd alexandra3k/src\npipenv install\n```\n\n### CLI use while developing\n```sh\n# While in alexandria3k/src directory\n\n# Install development dependencies\npipenv install --dev\n\n# Launch a shell in the virtual environment\npipenv shell\n\n# Navigate to the top directory\ncd ..\n\n# Run the CLI\nbin/alexandria3k --help\n```\n\n### Testing\n```sh\n# While in the top-level directory\npython3 -m unittest discover\n```\n\n### Formatting\n```sh\n# While in the top-level directory\nblack -l 79 src/alexandria3k/*.py\n```\n\n### Linting\n```sh\n# While in the top-level directory\npython -m pylint src/alexandria3k/*.py\n```\n\n### Building\n```sh\n# While in the top-level directory\npython3 -m build\n```\n\n## Package name derivation\nThe _alexandria3k_ package is named after the\n[Library of Alexandria](https://en.wikipedia.org/wiki/Library_of_Alexandria),\nindicating how publication data can be processed in the third millenium AD.\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "alexandria3k",
            "package_url": "https://pypi.org/project/alexandria3k/",
            "platform": null,
            "project_url": "https://pypi.org/project/alexandria3k/",
            "project_urls": {
                "Bug Tracker": "https://github.com/dspinellis/alexandria3k/issues",
                "Homepage": "https://github.com/dspinellis/alexandria3k"
            },
            "release_url": "https://pypi.org/project/alexandria3k/1.0.0/",
            "requires_dist": [
                "apsw"
            ],
            "requires_python": ">=3.7",
            "summary": "Efficient relational database queries over the entire Crossref abnd ORCID data sets",
            "version": "1.0.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16166295,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "f4e52e1e8c5293cbeadad7ae4ed52d38",
                    "sha256": "44db3e5be1c5572323067543e937095780ef9ac4bcb7b84645a2673be88b87cb"
                },
                "downloads": -1,
                "filename": "alexandria3k-1.0.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "f4e52e1e8c5293cbeadad7ae4ed52d38",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.7",
                "size": 64331,
                "upload_time": "2022-12-20T21:58:47",
                "upload_time_iso_8601": "2022-12-20T21:58:47.667110Z",
                "url": "https://files.pythonhosted.org/packages/86/91/c7f31c4a44a4ea02470b792563a754aeb0567376ed47ed7ef484959ba537/alexandria3k-1.0.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "15f99299871c6238c71ffdfa123b31f3",
                    "sha256": "5974df66b13a8ec11f3325711f5f6aca18dbbf452fd68a193272f660c1c6e6b4"
                },
                "downloads": -1,
                "filename": "alexandria3k-1.0.0.tar.gz",
                "has_sig": false,
                "md5_digest": "15f99299871c6238c71ffdfa123b31f3",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.7",
                "size": 110871,
                "upload_time": "2022-12-20T21:58:49",
                "upload_time_iso_8601": "2022-12-20T21:58:49.425560Z",
                "url": "https://files.pythonhosted.org/packages/00/8f/43d8a53fb4636f0df4c70d7de62e7cc80aab957a09962044441b5b7dbbab/alexandria3k-1.0.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}