{
    "0.0.18": {
        "info": {
            "author": "DYZ",
            "author_email": "duyuchau@gmail.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "MIT",
            "maintainer": "DYZ",
            "maintainer_email": "duyuchau@gmail.com",
            "name": "dutools",
            "package_url": "https://pypi.org/project/dutools/",
            "platform": "all",
            "project_url": "https://pypi.org/project/dutools/",
            "project_urls": null,
            "release_url": "https://pypi.org/project/dutools/0.0.18/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "chau\u2018s  tools",
            "version": "0.0.18",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16237044,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "67b90593ea729471bddda3a51095dc38",
                    "sha256": "0efc798f4011f49e0eb53bcc5e0047d4fb86523e386bbafbd2bb0958ac73bd7a"
                },
                "downloads": -1,
                "filename": "dutools-0.0.18.tar.gz",
                "has_sig": false,
                "md5_digest": "67b90593ea729471bddda3a51095dc38",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 17661,
                "upload_time": "2022-12-16T08:03:38",
                "upload_time_iso_8601": "2022-12-16T08:03:38.148205Z",
                "url": "https://files.pythonhosted.org/packages/b2/69/92d047c9a1c8013810830d0a7fbdebd0ca9ac323302c8156fef62fb25417/dutools-0.0.18.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.19": {
        "info": {
            "author": "DYZ",
            "author_email": "duyuchau@gmail.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "MIT",
            "maintainer": "DYZ",
            "maintainer_email": "duyuchau@gmail.com",
            "name": "dutools",
            "package_url": "https://pypi.org/project/dutools/",
            "platform": "all",
            "project_url": "https://pypi.org/project/dutools/",
            "project_urls": null,
            "release_url": "https://pypi.org/project/dutools/0.0.19/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "chau\u2018s  tools",
            "version": "0.0.19",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16237044,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "d53b6d2412357ea86fe4cf74e9b452d3",
                    "sha256": "42f9af9e354381de329f92c248ee45857487921f6dc7906d291d775b2d30e453"
                },
                "downloads": -1,
                "filename": "dutools-0.0.19.tar.gz",
                "has_sig": false,
                "md5_digest": "d53b6d2412357ea86fe4cf74e9b452d3",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 17659,
                "upload_time": "2022-12-16T08:31:35",
                "upload_time_iso_8601": "2022-12-16T08:31:35.675642Z",
                "url": "https://files.pythonhosted.org/packages/9d/41/29b419e8c0ee184344e4c8098e1d12857b9d06112b4bf83894a5f642f9eb/dutools-0.0.19.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "0.0.20": {
        "info": {
            "author": "DYZ",
            "author_email": "duyuchau@gmail.com",
            "bugtrack_url": null,
            "classifiers": [],
            "description": "# dutools\r\n\r\n### python\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u81ea\u7528\u8f6e\u5b50\r\n\r\n### \u8f7b\u91cf\u7ea7 \u4f9d\u8d56 pymsql \u4e0e psycopg2\r\n\r\n### \u65b0\u589e PostGreSql\r\n\r\n### \u65b0\u589e AsyncGoogle google_transl \u91c7\u7528 httpx \u8c37\u6b4c\u7ffb\u8bd1\r\n\r\n### \u65b0\u589e RsaCrypto \u975e\u5bf9\u79f0\u52a0\u5bc6\r\n\r\n# \u5b89\u88c5\u5305\r\n\r\n```bash\r\npip install dutools\r\n```\r\n\r\n#### \u4f7f\u7528 RsaCrypto\r\n\r\n# \u5bfc\u5165\u5305\r\n```text\r\nfrom dutools.base_settings import EsSettings, BaseSettings\r\nWindows \u5f00\u53d1\u73af\u5883\r\nLinux   \u751f\u4ea7\u73af\u5883\r\nBaseSettings \u4e00\u4e2a\u901a\u8fc7(\u7cfb\u7edf)\u81ea\u52a8\u5224\u65ad\u751f\u4ea7\u4e0e\u5f00\u53d1\u73af\u5883\uff0c\u5728\u5f00\u53d1\u4e0e\u751f\u4ea7\u73af\u5883\u4e2d\u5207\u6362\u4e0d\u540c\u7684\u6253\u5370\u989c\u8272\u533a\u522b\u7684 \u914d\u7f6e\u7c7b\r\n\r\nEsSettings \u57fa\u4e8eBaseSettings \r\n  4\u4e2a\u5185\u7f6e\u51fd\u6570\r\n     cat()           \u67e5\u770b\u914d\u7f6e\u4fe1\u606f, sta=True \u65f6\u6253\u5370settings\r\n    _create_index()  \u521b\u5efa\u7d22\u5f15\r\n    _delete_index()  \u5220\u9664\u7d22\u5f15\r\n    __clear()        \u6e05\u7a7a\u5f53\u524d\u7d22\u5f15\u6570\u636e\r\n\r\n\r\nconf.yml \u6587\u4ef6\u793a\u4f8b\r\ntest:\r\n  es:\r\n    index: cards\r\n    hosts:\r\n      - http://127.0.0.1:9200\r\n      - http://192.168.0.1:9200\r\n    mapping_file: cards.json\r\n  mysql:\r\n    host: ...\r\n    \r\nenv:\r\n  es:\r\n    index: cards\r\n    hosts:\r\n      - http://127.0.0.1:9200\r\n      - http://192.168.0.1:9200\r\n    mapping_file: cards.json\r\n```\r\n\r\n# from dutools import RsaCrypto\r\nRsaCrypto \u63d0\u4f9b\u52a0\u89e3\u5bc6\u4e0e\u751f\u6210\u5bf9\u5e94\u5bc6\u94a5\r\n\r\n```python\r\nimport os\r\nimport json\r\nfrom dutools.RSA import RsaCrypto  \r\n# \u4f7f\u7528\u573a\u666f\uff1a \u7528\u6237\u767b\u5f55 \u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u63a5\u53e3\u5c06\u52a0\u5bc6\u6587\u4ef6\u4f20\u9001\u7ed9\u524d\u7aef, \u524d\u7aef\u52a0\u5bc6\uff0c \u540e\u7aef\u89e3\u5bc6 \r\nBASE_DIR = os.path.dirname(os.path.abspath(__file__))  # \u81ea\u52a8\u83b7\u53d6\u8def\u5f84\u6216\u8005\u624b\u52a8\u7ed9\u51fa\u90fd\u53ef\r\nrsa = RsaCrypto(BASE_DIR)  # \u5b9e\u4f8b\u5316\r\nrsa.create_rsa_key()  # \u521b\u5efa\u5bc6\u94a5\r\n\r\ndata = {\"user\": \"195947454\", \"name\": \"H, DJ\"}\r\na = rsa.encrypt(json.dumps(data))  # \u52a0\u5bc6 XtEtC...xE2nTKKLvUPWXeNTGsN5pI=\r\nb = rsa.decrypt(a)  # \u89e3\u5bc6\r\nprint(a)\r\nprint(json.loads(b))\r\n\r\n\r\n```\r\n\r\n#### \u4f7f\u7528 AsyncGoogle\r\n\r\n# \u5bfc\u5165\u5305\r\n\r\n# from dutools import AsyncGoogle\r\n\r\nAsyncGoogle \u63d0\u4f9b\u4e00\u4e2a\u76f4\u63a5\u4f7f\u7528\u7684\u65b9\u6cd5 google\r\n\r\n```python\r\nimport asyncio\r\nfrom dutools.translator import AsyncGoogle\r\nfrom dutools.translator import google_transl  # \u76f4\u63a5\u4f7f\u7528\u6b64\u65b9\u6cd5\u4ea6\u53ef\r\n\r\ngoogle = AsyncGoogle(\r\n    timeout=5,\r\n    proxies=None,\r\n    http2=False  # \u662f\u5426\u542f\u7528HTTP2\r\n)\r\n\r\ndata = [\r\n    \"For other COVID-19 related advisories for F&B establishments, see Safe Distancing Measures.\"\r\n    \"For information on VDS and ceasing of On-Arrival Testing at wholesale markets, see SMMs at wholesale markets.\",\r\n    \"For information on food safety during this Covid-19 period, see COVID-19 and food safety.\",\r\n]\r\n\r\ntask_ist = []\r\nfor i in data:\r\n    task = asyncio.create_task(google.translate(i, 'zh'))\r\n    task_ist.append(task)\r\nres = asyncio.gather(*task_ist)\r\nprint(res)\r\n\r\n\r\n```\r\n\r\n#### \u4f7f\u7528 PostGreSql\r\n\r\n# \u5bfc\u5165\u5305\r\n\r\n# from dutools import PostGreSql\r\n\r\n```python\r\n# \u6784\u5efa\u4e00\u4e2aPostGreSql\u914d\u7f6e\r\nfrom dutools.pg_sql import PostGreSql\r\n\r\nconf = {'database': \"db\",\r\n        \"user\": \"postgres\",\r\n        \"password\": \"test\",\r\n        \"host\": \"127.0.0.1\",\r\n        \"port\": \"5432\"}\r\n\r\n# \u4f8b\u5b50\r\nsql = 'SELECT DISTINCT * FROM \"public\".\"test\"  ORDER BY \"userid\" LIMIT 20'\r\nconn = PostGreSql(conf)\r\n# \u5355\u6761\u6570\u636e\r\ndata = conn.fetchone(sql)  # \u9ed8\u8ba4\u8fd4\u56de\u4e00\u4e2a\u5b57\u5178 {}\r\nprint(data)\r\n# \u591a\u6761\u6570\u636e\r\ndata = conn.fetchone(sql)  # \u9ed8\u8ba4\u8fd4\u56de\u4e00\u4e2a\u5b57\u5178\u5217\u8868 [{},{}]\r\nfor row in data:\r\n    print(row)  # {\"name\": \"\u5f20\u4e09\", \"age\": 25}\r\n\r\n# \u591a\u6570\u636e\u67e5\u8be2\r\ndata = conn.fetchmany(sql, size=2000)  # \u9ed8\u8ba4\u8fd4\u56de\u4e00\u4e2a\u5b57\u5178\u5217\u8868 [{},{}]\r\nfor row in data:\r\n    print(row)  # {\"name\": \"\u5f20\u4e09\", \"age\": 25}\r\n\r\n# \u6279\u91cf\u64cd\u4f5c\r\n# 1. \u6279\u91cf\u63d2\u5165\r\nsql = 'insert into public.user (id,name,age) VALUES %s'  # \u6279\u91cf\u64cd\u4f5c\u65f6\u5b57\u6bb5\u987b\u4fdd\u6301\u4e00\u81f4 \u503c\u7528\u4e00\u4e2a %s \u4ee3\u66ff\r\ndata = [(1, \"\u5f20\u4e09\", 25), (2, \"\u9ec4DJ\", 25)]\r\nconn.commit(sql, data)\r\n\r\n# 1. \u6279\u91cf\u66f4\u65b0\r\nsql = 'UPDATE public.user SET name = data.name, age = data.age FROM (VALUES %s) AS data (id, name, age) WHERE user.id = data.id'  # \u6b64\u5904\u5e94\u7528psycopg2\u5b98\u65b9\u4f8b\u5b50\r\ndata = [(1, \"\u6cd5\u5916\u72c2\u5f92\", 36), (2, \"\u72d7\u5b50\u54e5\", 27)]\r\nconn.commit(sql, data)\r\n```\r\n\r\n## MYSQL\r\n\r\n# \u6784\u5efa\u4e00\u4e2amysql\u914d\u7f6e\r\n\r\n```python\r\nfrom dutools.crud import Mysql, MysqlDB, mysql_ssd\r\n\r\nconf = {\r\n    \"host\": \"127.0.0.1\",\r\n    \"port\": 3306,\r\n    \"user\": 'test',\r\n    \"password\": 'test',\r\n    \"database\": \"users\",\r\n    \"charset\": \"utf8mb4\"\r\n}\r\n# \u7528\u6cd51\r\n# \u9002\u5408\u957f\u65f6\u95f4\u4fdd\u6301\u8fde\u63a5\u72b6\u6001\u7684 MysqlDB\r\ndb = MysqlDB(conf)\r\n\r\n# \u63d2\u5165\u6570\u636e\r\nitem = {\"name\": \"\u5f20\u4e09\", \"age\": 25}  # \u6ce8\u610f\u5b57\u5178key \u9700\u548c\u6570\u636e\u5e93\u5b57\u6bb5\u540d\u79f0\u4fdd\u6301\u4e00\u81f4\r\nsql = 'insert into user(%s) values(%s)'\r\ndb.commit(sql, data=item)\r\n# \u6279\u91cf\u5199\u5165\u6570\u636e\r\nitem = [{\"name\": \"\u5f20\u4e09\", \"age\": 25}, {\"name\": \"\u9ec4DJ\", \"age\": 25}]  # \u6ce8\u610f\u5b57\u5178key \u9700\u548c\u6570\u636e\u5e93\u5b57\u6bb5\u540d\u79f0\u4fdd\u6301\u4e00\u81f4\r\nsql = 'insert into user(%s) values(%s)'\r\ndb.commit(sql, data_list=item)\r\n\r\n# \u66f4\u65b0\u6570\u636e\r\nsql = 'update user set %s where name=\"\u9ec4DJ\"'  # \u8bf7\u6ce8\u610f\u6761\u4ef6\r\ndb.commit(sql, data=item, up=True)  # \u518d\u505a\u66f4\u65b0\u64cd\u4f5c\u65f6\uff0c\u9700\u8981\u52a0\u4e0aup=True\r\n\r\n# \u8bfb\u53d6\u6570\u636e\r\nsql = \"select * from user\"\r\ndata = db.fetchall(sql)  # \u6b64\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a list\r\ndata = db.fetchone(sql)  # \u6b64\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a \u9ed8\u8ba4\u5b57\u5178 \u5982\u4e0d\u518d conf \u4e2d\u914d\u7f6e cursorclass\r\n```\r\n\r\n#### Mysql \u7c7b \u57fa\u672c\u64cd\u4f5c\u4e0e MysqlDB \u4e00\u81f4\r\n\r\n+ \u6bd4\u5982\u9700\u8981\u5173\u6ce8\u6570\u636e\u5e93\u4e2d\u662f\u5426\u6709\u5f53\u5929\u7684\u6570\u636e\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ed6, \u5e94\u4e3a\u4ed6\u9002\u7528\u77ed\u94fe\u63a5\r\n+ \u8bf7\u4f7f\u7528 with\r\n\r\n```python\r\n# \u5bfc\u5165\u5305\r\nfrom dutools.crud import Mysql, MysqlDB, mysql_ssd\r\n\r\n# \u6784\u5efa\u4e00\u4e2amysql\u914d\u7f6e\r\nconf = {\r\n    \"host\": \"127.0.0.1\",\r\n    \"port\": 3306,\r\n    \"user\": 'test',\r\n    \"password\": 'test',\r\n    \"database\": \"users\",\r\n    \"charset\": \"utf8mb4\"\r\n}\r\nwith Mysql(conf) as cur:\r\n    # \u63d2\u5165\u6570\u636e\r\n    item = {\"name\": \"\u5f20\u4e09\", \"age\": 25}  # \u6ce8\u610f\u5b57\u5178key \u9700\u548c\u6570\u636e\u5e93\u5b57\u6bb5\u540d\u79f0\u4fdd\u6301\u4e00\u81f4\r\n    sql = 'insert into user(%s) values(%s)'\r\n    cur.commit(sql, data=item)\r\n\r\n```\r\n\r\n#### mysql_ssd\r\n\r\n+ \u7528\u4e8e\u8d85\u5927\u6570\u636e\u8bfb\u53d6\r\n\r\n```python\r\n# \u5bfc\u5165\u5305\r\nfrom dutools.crud import mysql_ssd\r\n\r\n# \u6784\u5efa\u4e00\u4e2amysql\u914d\u7f6e\r\nconf = {\r\n    \"host\": \"127.0.0.1\",\r\n    \"port\": 3306,\r\n    \"user\": 'test',\r\n    \"password\": 'test',\r\n    \"database\": \"users\",\r\n    \"charset\": \"utf8mb4\"\r\n}\r\n\r\n# \u4f8b\u5b50\r\nsql = \"select * from user\"\r\nwith mysql_ssd(conf) as cur:\r\n    cur.execute(sql)\r\n    while True:\r\n        row = cur.fetchone()\r\n        if not row:\r\n            break\r\n        print(row)\r\n\r\n\r\n```\r\n\r\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "",
            "license": "MIT",
            "maintainer": "DYZ",
            "maintainer_email": "duyuchau@gmail.com",
            "name": "dutools",
            "package_url": "https://pypi.org/project/dutools/",
            "platform": "all",
            "project_url": "https://pypi.org/project/dutools/",
            "project_urls": null,
            "release_url": "https://pypi.org/project/dutools/0.0.20/",
            "requires_dist": null,
            "requires_python": "",
            "summary": "chau\u2018s  tools",
            "version": "0.0.20",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16237044,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "b6c5d3a3145b177120e25156a58e9b4e",
                    "sha256": "f300aafd8084fb16ebd9fe499560f7daf28da116393a2d5622f2e08aa0516c6c"
                },
                "downloads": -1,
                "filename": "dutools-0.0.20.tar.gz",
                "has_sig": false,
                "md5_digest": "b6c5d3a3145b177120e25156a58e9b4e",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 17790,
                "upload_time": "2022-12-28T10:07:07",
                "upload_time_iso_8601": "2022-12-28T10:07:07.261278Z",
                "url": "https://files.pythonhosted.org/packages/03/7f/81c576493750b70008e1788185d39024563abe7cb0c6751ab3c66a10dcbd/dutools-0.0.20.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}