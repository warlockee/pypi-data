{
    "0.0.1": {
        "info": {
            "author": "Alex Hall",
            "author_email": "alex.mojaki@gmail.com",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: MIT License",
                "Programming Language :: Python :: 3.10",
                "Programming Language :: Python :: 3.11",
                "Programming Language :: Python :: 3.9"
            ],
            "description": "# `fvalues`\n\n[![Build Status](https://github.com/oughtinc/fvalues/workflows/Tests/badge.svg?branch=main)](https://github.com/oughtinc/fvalues/actions) [![Coverage Status](https://coveralls.io/repos/github/oughtinc/fvalues/badge.svg?branch=main)](https://coveralls.io/github/oughtinc/fvalues?branch=main)\n\nThis is a Python library for keeping track of the combination of components in a string. In particular it lets you separate out the formatted values in an f-string. Here's an example:\n\n```python\nfrom fvalues import F, FValue\n\nx = 1.2345\nf = F(f\"twice x is {x * 2:.2f}\")\nassert f == \"twice x is 2.47\"\nassert f.parts == (\"twice x is \", FValue(source=\"x * 2\", value=2.469, formatted=\"2.47\"))\n```\n\nKey facts:\n\n- `F` is a subclass of `str` so it can generally be used like any other string.\n- Calls to the constructor `F()` are magically detected using the `executing` library, and f-strings within are parsed to extract their components.\n- These are saved in the attribute `F.parts`. Each `part` is either a `str` representing a constant section or an `FValue` representing a dynamic expression.\n- `FValue.source` contains the source code between the braces (`{}`) but before the colon (`:`) and format spec (`.2f`). In some cases it may not be the exact original source code, but equivalent code produced by `ast.unparse`.\n- `FValue.value` and `FValue.formatted` are calculated using `eval()`, so **be careful of expressions that you wouldn't want to evaluate twice due to performance or side effects**.\n\n## Concatenation\n\nThe `F` class also has special support for concatenation with the `+` operator:\n\n```python\nf += \"!\"\nassert f == \"twice x is 2.47!\"\nassert f.parts == (\n    FValue(\n        source=\"f\",\n        value=\"twice x is 2.47\",\n        formatted=\"twice x is 2.47\",\n    ),\n    \"!\",\n)\n```\n\nSimilar to deconstructing f-strings, you can see how the parts distinguish between the dynamic expression `f` on the left of `+=`, representing it as an `FValue`, and the static `\"!\"` on the right.\n\n## Flattening\n\nIn the assertion above above, `FValue.value` is shown as a plain string, but remember that it's actually also an `F` object itself. The assertion works because `F` is a subclass of `str` so they can be used interchangeably. But it still has the same `parts` that we saw earlier. Sometimes keeping the tree of parts in its original form can be useful, other times you may want to bring everything to the surface to make things easier. You can produce an equivalent `F` object with a flat list of parts using `F.flatten`:\n\n```python\nassert f.flatten().parts == (\n    \"twice x is \",\n    FValue(\n        source=\"x * 2\",\n        value=2.469,\n        formatted=\"2.47\",\n    ),\n    \"!\",\n)\n```\n\n## Other string methods\n\nAnother method that's specially implemented for `F` is `.strip()` and its cousins `lstrip` and `rstrip`. It does the same thing as the usual `str.strip` as far as the whole string is concerned, but also strips the internal parts in the way you'd probably expect. See the docstring for more details.\n\nAll other methods are directly inherited from `str`, which means that methods such as `.lower()` will return a plain `str` rather than another `F` object. So be careful with those methods if you don't want to lose information about the parts! More specialised implementations may be added in the future.\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/oughtinc/fvalues",
            "keywords": "",
            "license": "MIT",
            "maintainer": "",
            "maintainer_email": "",
            "name": "fvalues",
            "package_url": "https://pypi.org/project/fvalues/",
            "platform": null,
            "project_url": "https://pypi.org/project/fvalues/",
            "project_urls": {
                "Homepage": "https://github.com/oughtinc/fvalues"
            },
            "release_url": "https://pypi.org/project/fvalues/0.0.1/",
            "requires_dist": [
                "executing",
                "autoflake ; extra == 'dev'",
                "black ; extra == 'dev'",
                "flake8 ; extra == 'dev'",
                "mypy ; extra == 'dev'",
                "pre-commit ; extra == 'dev'",
                "pylint ; extra == 'dev'",
                "pytest ; extra == 'dev'",
                "tox ; extra == 'dev'"
            ],
            "requires_python": ">=3.9",
            "summary": "Keep track of components in strings, especially formatted values in f-strings.",
            "version": "0.0.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 16161137,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "adb891795b014778f2a74db0c6caa10c",
                    "sha256": "9e603ea2a54aba641b64c7bd7a3ffea5644bf94318a88324e2f56bda94553386"
                },
                "downloads": -1,
                "filename": "fvalues-0.0.1-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "adb891795b014778f2a74db0c6caa10c",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.9",
                "size": 8296,
                "upload_time": "2022-12-20T12:57:02",
                "upload_time_iso_8601": "2022-12-20T12:57:02.416021Z",
                "url": "https://files.pythonhosted.org/packages/46/a8/ea20742633b892401fcafe8808152aa8c7ad1bd1983d5fa8377c6a8c973b/fvalues-0.0.1-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "435396486c7ccaadb6c48a866a3168ff",
                    "sha256": "f7b985cb4f50dba4c0cf7a4d2c86106ea9b404099b88ce322852799c917fe5a8"
                },
                "downloads": -1,
                "filename": "fvalues-0.0.1.tar.gz",
                "has_sig": false,
                "md5_digest": "435396486c7ccaadb6c48a866a3168ff",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.9",
                "size": 11336,
                "upload_time": "2022-12-20T12:57:04",
                "upload_time_iso_8601": "2022-12-20T12:57:04.361560Z",
                "url": "https://files.pythonhosted.org/packages/07/81/dff839c48a109a7bc84531aa29355ce903c8c8eebcc920dfb26ddc55fc05/fvalues-0.0.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}