{
    "3.1.2": {
        "info": {
            "author": "Natural History Museum",
            "author_email": "data@nhm.ac.uk",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 5 - Production/Stable",
                "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
                "Programming Language :: Python",
                "Programming Language :: Python :: 3 :: Only",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/NaturalHistoryMuseum/ckanext-ldap",
            "keywords": "CKAN data ldap",
            "license": "GNU GPLv3",
            "maintainer": "",
            "maintainer_email": "",
            "name": "ckanext-ldap",
            "package_url": "https://pypi.org/project/ckanext-ldap/",
            "platform": null,
            "project_url": "https://pypi.org/project/ckanext-ldap/",
            "project_urls": {
                "Homepage": "https://github.com/NaturalHistoryMuseum/ckanext-ldap"
            },
            "release_url": "https://pypi.org/project/ckanext-ldap/3.1.2/",
            "requires_dist": [
                "python-ldap (==3.4.0)"
            ],
            "requires_python": "",
            "summary": "A CKAN extension that provides LDAP authentication.",
            "version": "3.1.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15912469,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "1585ab11d01e231b8b3edd31fc4d83ba",
                    "sha256": "84282d41950c8456ce464ec4815458f9cf5dddf549f64dad134005893032085e"
                },
                "downloads": -1,
                "filename": "ckanext_ldap-3.1.2-py3.10.egg",
                "has_sig": false,
                "md5_digest": "1585ab11d01e231b8b3edd31fc4d83ba",
                "packagetype": "bdist_egg",
                "python_version": "3.1.2",
                "requires_python": null,
                "size": 18008,
                "upload_time": "2022-11-15T15:36:01",
                "upload_time_iso_8601": "2022-11-15T15:36:01.004857Z",
                "url": "https://files.pythonhosted.org/packages/0f/b0/9ac5834d534dc821fd192764df1a3f8bf3333198c881aafd555fe2879e32/ckanext_ldap-3.1.2-py3.10.egg",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "9aa1c54f30a0bff3bc3e29eb45415b66",
                    "sha256": "191e150c32844b0aa0d394d41c742c867c5a31de4d33def1c4ad0983ffb242d7"
                },
                "downloads": -1,
                "filename": "ckanext_ldap-3.1.2-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "9aa1c54f30a0bff3bc3e29eb45415b66",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": null,
                "size": 31453,
                "upload_time": "2022-11-15T15:35:59",
                "upload_time_iso_8601": "2022-11-15T15:35:59.258722Z",
                "url": "https://files.pythonhosted.org/packages/54/e4/2933edfc0377b101b87f706e424eb6ecb6d66f464786c23d484b1c3306b7/ckanext_ldap-3.1.2-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "877e3b39c22711121e3de179e0f03303",
                    "sha256": "157b3ebfd53d60dce83b5a9ce1dd5e2df125344acb23231c6951fe12715992a1"
                },
                "downloads": -1,
                "filename": "ckanext-ldap-3.1.2.tar.gz",
                "has_sig": false,
                "md5_digest": "877e3b39c22711121e3de179e0f03303",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 37935,
                "upload_time": "2022-11-15T15:36:02",
                "upload_time_iso_8601": "2022-11-15T15:36:02.763940Z",
                "url": "https://files.pythonhosted.org/packages/8a/f6/5f00675bee17cb279c45fe683a1d24b84c2372ec3091bbade1df75dd7fcf/ckanext-ldap-3.1.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "3.2.0": {
        "info": {
            "author": "",
            "author_email": "Natural History Museum <data@nhm.ac.uk>",
            "bugtrack_url": null,
            "classifiers": [
                "Development Status :: 5 - Production/Stable",
                "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
                "Programming Language :: Python",
                "Programming Language :: Python :: 3 :: Only",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8"
            ],
            "description": "<!--header-start-->\n<img src=\".github/nhm-logo.svg\" align=\"left\" width=\"150px\" height=\"100px\" hspace=\"40\"/>\n\n# ckanext-ldap\n\n[![Tests](https://img.shields.io/github/workflow/status/NaturalHistoryMuseum/ckanext-ldap/Tests?style=flat-square)](https://github.com/NaturalHistoryMuseum/ckanext-ldap/actions/workflows/main.yml)\n[![Coveralls](https://img.shields.io/coveralls/github/NaturalHistoryMuseum/ckanext-ldap/main?style=flat-square)](https://coveralls.io/github/NaturalHistoryMuseum/ckanext-ldap)\n[![CKAN](https://img.shields.io/badge/ckan-2.9.1-orange.svg?style=flat-square)](https://github.com/ckan/ckan)\n[![Python](https://img.shields.io/badge/python-3.6%20%7C%203.7%20%7C%203.8-blue.svg?style=flat-square)](https://www.python.org/)\n[![Docs](https://img.shields.io/readthedocs/ckanext-ldap?style=flat-square)](https://ckanext-ldap.readthedocs.io)\n\n_A CKAN extension that provides LDAP authentication._\n\n<!--header-end-->\n\n# Overview\n\n<!--overview-start-->\nThis plugin provides LDAP authentication for CKAN.\n\nFeatures include:\n- Imports username, full name, email and description;\n- Can match against several LDAP fields (eg. username or full name);\n- Allows to have LDAP only authentication, or combine LDAP and basic CKAN authentication;\n- Can add LDAP users to a given organization automatically;\n- Works with Active Directory.\n\n<!--overview-end-->\n\n# Installation\n\n<!--installation-start-->\nPath variables used below:\n- `$INSTALL_FOLDER` (i.e. where CKAN is installed), e.g. `/usr/lib/ckan/default`\n- `$CONFIG_FILE`, e.g. `/etc/ckan/default/development.ini`\n\n1. Clone the repository into the `src` folder:\n\n  ```bash\n  cd $INSTALL_FOLDER/src\n  git clone https://github.com/NaturalHistoryMuseum/ckanext-ldap.git\n  ```\n\n2. Activate the virtual env:\n\n  ```bash\n  . $INSTALL_FOLDER/bin/activate\n  ```\n\n3. Install the requirements for `python-ldap`, e.g.:\n\n  ```bash\n  apt-get install libldap2-dev libsasl2-dev libssl-dev\n  ```\n\n4. Install the requirements from requirements.txt:\n\n  ```bash\n  cd $INSTALL_FOLDER/src/ckanext-ldap\n  pip install -r requirements.txt\n  ```\n\n5. Run setup.py:\n\n  ```bash\n  cd $INSTALL_FOLDER/src/ckanext-ldap\n  python setup.py develop\n  ```\n\n6. Add 'ldap' to the list of plugins in your `$CONFIG_FILE`:\n\n  ```ini\n  ckan.plugins = ... ldap\n  ```\n\n<!--installation-end-->\n\n# Configuration\n\n<!--configuration-start-->\nThese are the options that can be specified in your .ini config file.\n\n## LDAP configuration **[REQUIRED]**\n\nName|Description|Options\n--|--|--\n`ckanext.ldap.uri`|The URI of the LDAP server, of the form _ldap://example.com_. You can use the URI to specify TLS (use 'ldaps' protocol), and the port number (suffix ':port').|True/False\n`ckanext.ldap.base_dn`|The base dn in which to perform the search. Example: 'ou=USERS,dc=example,dc=com'.|\n`ckanext.ldap.search.filter`|This is the search string that is sent to the LDAP server, in which '{login}' is replaced by the user name provided by the user. Example: 'sAMAccountName={login}'. The search performed here **must** return exactly 0 or 1 entry.|\n`ckanext.ldap.username`|The LDAP attribute that will be used as the CKAN username. This **must** be unique.|\n`ckanext.ldap.email`|The LDAP attribute to map to the user's email address. This **must** be unique.|\n\n## Other options\n\nName|Description|Options|Default\n--|--|--|--\n`ckanext.ldap.ckan_fallback`|If true this will attempt to log in against the CKAN user database when no LDAP user exists.|True/False|False\n`ckanext.ldap.prevent_edits`|If true, this will prevent LDAP users from editing their profile. Note that there is no problem in allowing users to change their details - even their user name can be changed. But you may prefer to keep things centralized in your LDAP server. **Important**: while this prevents the operation from happening, it won't actually remove the 'edit settings' button from the dashboard. You need to do this in your own template.|True/False|False\n`ckanext.ldap.auth.dn`|DN to use if LDAP server requires authentication.||\n`ckanext.ldap.auth.password`|Password to use if LDAP server requires authentication.||\n`ckanext.ldap.auth.method`|Authentication method|SIMPLE, SASL|\n`ckanext.ldap.auth.mechanism`|SASL mechanism to use, if auth.method is set to SASL.||\n`ckanext.ldap.fullname`|The LDAP attribute to map to the user's full name.||\n`ckanext.ldap.about`|The LDAP attribute to map to the user's description.||\n`ckanext.ldap.organization.id`|If this is set, users that log in using LDAP will automatically get added to the given organization. **Warning**: Changing this parameter will only affect users that have not yet logged on. It will not modify the organization of users who have already logged on. **Warning**: The organization to which to add LDAP users must already exist; the first user logging in will not automatically create it and instead you will see a \"500 Server Error\" returned.||\n`ckanext.ldap.organization.role`|The role given to users added in the given organization ('admin', 'editor' or 'member'). **Warning**: Changing this parameter will only affect users that have not yet logged on. It will not modify the role of users who have already logged on. This is only used if `ckanext.ldap.organization.id` is set. There is currently no functionality for mapping LDAP groups to CKAN roles, so this just assigns the same role to _every_ new LDAP user.|member, editor, admin|'member'\n`ckanext.ldap.search.alt`|An alternative search string for the LDAP filter. If this is present and the search using `ckanext.ldap.search.filter` returns exactly 0 results, then a search using this filter will be performed. If this search returns exactly one result, then it will be accepted. You can use this for example in Active Directory to match against both username and fullname by setting `ckanext.ldap.search.filter` to  'sAMAccountName={login}' and `ckanext.ldap.search.alt` to 'name={login}'. The approach of using two separate filter strings (rather than one with an or statement) ensures that priority will always be given to the unique id match. `ckanext.ldap.search.alt` however can  be used to match against more than one field. For example you could match against either the full name or the email address by setting `ckanext.ldap.search.alt` to '(\\|(name={login})(mail={login}))'.||\n`ckanext.ldap.search.alt_msg`|A message that is output to the user when the search on `ckanext.ldap.search.filter` returns 0 results, and the search on `ckanext.ldap.search.alt` returns more than one result. Example: 'Please use your short account name instead'.||\n`ckanext.ldap.migrate`| If true this will change an existing CKAN user with the same username to an LDAP user. Otherwise, an exception `UserConflictError`is raised if LDAP-login with an already existing local CKAN username is attempted. This option provides a migration path from local CKAN authentication to LDAP authentication: Rename all users to their LDAP usernames and instruct them to login with their LDAP credentials. Migration then happens transparently.|True/False|False\n`ckanext.ldap.debug_level`|[python-ldap debug level](https://www.python-ldap.org/en/python-ldap-3.0.0b1/reference/ldap.html?highlight=debug_level#ldap.OPT_DEBUG_LEVEL). **Security warning**: it is strongly recommended to keep this parameter set to 0 (zero) on production systems, otherwise [plaintext passwords will be logged by `python-ldap`](https://github.com/python-ldap/python-ldap/issues/384)|0-9|0\n`ckanext.ldap.trace_level`|[python-ldap trace level](https://www.python-ldap.org/en/python-ldap-3.0.0b1/reference/ldap.html?highlight=trace_level#ldap.initialize). **Security warning**: it is strongly recommended to keep this parameter set to 0 (zero) on production systems, otherwise [plaintext passwords will be logged by `python-ldap`](https://github.com/python-ldap/python-ldap/issues/384)|0-9|0\n`ckanext.ldap.allow_password_reset`|If true, allows LDAP users to reset their passwords, if false, disallows this functionality. Note that if this is true, the password that is reset is the CKAN user password, not the LDAP one. If set to false, the request to reset will be denied only if the user is an LDAP user, if not they will be allowed to reset regardless of the value of this option.|True/False|true|\n\n<!--configuration-end-->\n\n# Usage\n\n<!--usage-start-->\n## Example Test Configuration\nTo test that the extension is working correctly without having to set up an LDAP service yourself, you can try this config snippet:\n\n```ini\nckanext.ldap.uri = ldap://ldap.forumsys.com:389\nckanext.ldap.base_dn = dc=example,dc=com\nckanext.ldap.search.filter = cn=*{login}*\nckanext.ldap.username = cn\nckanext.ldap.auth.dn = cn=read-only-admin,dc=example,dc=com\nckanext.ldap.email = mail\nckanext.ldap.auth.password = password\nckanext.ldap.auth.method = SIMPLE\n```\n\nSee [here](https://www.forumsys.com/tutorials/integration-how-to/ldap/online-ldap-test-server/) for more information.\nThen just login with `tesla` or `gauss` for example with `password` as the password.\n\n## Commands\n\n### `ldap`\n\n1. `setup-org`: create the organisation specified in `ckanext.ldap.organization.id`.\n    ```bash\n    ckan -c $CONFIG_FILE ldap setup-org\n    ```\n\n2. `initdb`: ensure the tables needed by this extension exist.\n    ```bash\n    ckan -c $CONFIG_FILE ldap initdb\n    ```\n\n## Templates\n\nThis extension overrides `templates/user/login.html` and sets the form action to the LDAP login handler.\n\nTo use it elsewhere:\n\n```html+jinja\n{% set ldap_action = h.get_login_action() %}\n{% snippet \"user/snippets/login_form.html\", action=ldap_action, error_summary=error_summary %}\n```\n\nThe helper function `h.is_ldap_user()` is also provided for templates.\n\n<!--usage-end-->\n\n# Testing\n\n<!--testing-start-->\nThere is a Docker compose configuration available in this repository to make it easier to run tests.\n\nTo run the tests against ckan 2.9.x on Python3:\n\n1. Build the required images\n```bash\ndocker-compose build\n```\n\n2. Then run the tests.\n   The root of the repository is mounted into the ckan container as a volume by the Docker compose\n   configuration, so you should only need to rebuild the ckan image if you change the extension's\n   dependencies.\n```bash\ndocker-compose run ckan\n```\n\nThe ckan image uses the Dockerfile in the `docker/` folder.\n\n<!--testing-end-->\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "",
            "keywords": "CKAN,data,ldap",
            "license": "GPL-3.0-or-later",
            "maintainer": "",
            "maintainer_email": "",
            "name": "ckanext-ldap",
            "package_url": "https://pypi.org/project/ckanext-ldap/",
            "platform": null,
            "project_url": "https://pypi.org/project/ckanext-ldap/",
            "project_urls": {
                "changelog": "https://github.com/NaturalHistoryMuseum/ckanext-ldap/blob/main/CHANGELOG.md",
                "repository": "https://github.com/NaturalHistoryMuseum/ckanext-ldap"
            },
            "release_url": "https://pypi.org/project/ckanext-ldap/3.2.0/",
            "requires_dist": [
                "ckantools (>=0.3.0)",
                "python-ldap (==3.4.0)",
                "mock ; extra == 'test'",
                "pytest (>=4.6.5) ; extra == 'test'",
                "pytest-cov (>=2.7.1) ; extra == 'test'",
                "coveralls ; extra == 'test'"
            ],
            "requires_python": ">=3.6",
            "summary": "A CKAN extension that provides LDAP authentication.",
            "version": "3.2.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15912469,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "9bf2cf10aec1997a57f42feb8ca3a26f",
                    "sha256": "da363f21987efb4e8ce47e2406a62bdee05f29c09352d51b6d2ebd3a683e604a"
                },
                "downloads": -1,
                "filename": "ckanext_ldap-3.2.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "9bf2cf10aec1997a57f42feb8ca3a26f",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6",
                "size": 31906,
                "upload_time": "2022-11-28T10:28:52",
                "upload_time_iso_8601": "2022-11-28T10:28:52.036827Z",
                "url": "https://files.pythonhosted.org/packages/5b/97/3bdaf1cddaefd9dc7a778b7bbb94bf9aa4aae26696eb65d20044cc98fd5b/ckanext_ldap-3.2.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "d8e1261aef1d2674e36817a96feb883a",
                    "sha256": "08ade73bebfdc8ddf964c6a9cdf837345fde6de759bc7f40453757ead59ac8f2"
                },
                "downloads": -1,
                "filename": "ckanext-ldap-3.2.0.tar.gz",
                "has_sig": false,
                "md5_digest": "d8e1261aef1d2674e36817a96feb883a",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 30999,
                "upload_time": "2022-11-28T10:28:53",
                "upload_time_iso_8601": "2022-11-28T10:28:53.976759Z",
                "url": "https://files.pythonhosted.org/packages/0e/40/6c079eedf05a0c17cde1a1384887ed5d7cc503b3f713c665de37fc71849f/ckanext-ldap-3.2.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}