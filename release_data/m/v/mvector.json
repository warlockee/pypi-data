{
    "0.1.0": {
        "info": {
            "author": "yeyupiaoling",
            "author_email": "",
            "bugtrack_url": null,
            "classifiers": [
                "Intended Audience :: Developers",
                "License :: OSI Approved :: Apache Software License",
                "Natural Language :: Chinese (Simplified)",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Programming Language :: Python :: 3.5",
                "Programming Language :: Python :: 3.6",
                "Programming Language :: Python :: 3.7",
                "Programming Language :: Python :: 3.8",
                "Programming Language :: Python :: 3.9",
                "Topic :: Utilities"
            ],
            "description": "# \u524d\u8a00\n\u6b64\u7248\u672c\u4e3a\u65b0\u7248\u672c\uff0c\u5982\u60f3\u4f7f\u7528\u4f7f\u7528\u65e7\u7248\u672c\uff0c\u8bf7\u8f6c\u5230[release/1.0](https://github.com/yeyupiaoling/VoiceprintRecognition_Pytorch/tree/release/1.0)\uff0c\u672c\u9879\u76ee\u4f7f\u7528\u4e86EcapaTdnn\u6a21\u578b\u5b9e\u73b0\u7684\u58f0\u7eb9\u8bc6\u522b\uff0c\u4e0d\u6392\u9664\u4ee5\u540e\u4f1a\u652f\u6301\u66f4\u591a\u6a21\u578b\uff0c\u540c\u65f6\u672c\u9879\u76ee\u4e5f\u652f\u6301\u4e86\u591a\u79cd\u6570\u636e\u9884\u5904\u7406\u65b9\u6cd5\uff0c\u635f\u5931\u51fd\u6570\u53c2\u8003\u4e86\u4eba\u8138\u8bc6\u522b\u9879\u76ee\u7684\u505a\u6cd5[PaddlePaddle-MobileFaceNets](https://github.com/yeyupiaoling/PaddlePaddle-MobileFaceNets) ,\u4f7f\u7528\u4e86ArcFace Loss\uff0cArcFace loss\uff1aAdditive Angular Margin Loss\uff08\u52a0\u6027\u89d2\u5ea6\u95f4\u9694\u635f\u5931\u51fd\u6570\uff09\uff0c\u5bf9\u7279\u5f81\u5411\u91cf\u548c\u6743\u91cd\u5f52\u4e00\u5316\uff0c\u5bf9\u03b8\u52a0\u4e0a\u89d2\u5ea6\u95f4\u9694m\uff0c\u89d2\u5ea6\u95f4\u9694\u6bd4\u4f59\u5f26\u95f4\u9694\u5728\u5bf9\u89d2\u5ea6\u7684\u5f71\u54cd\u66f4\u52a0\u76f4\u63a5\u3002\n\n\n**\u6b22\u8fce\u5927\u5bb6\u626b\u7801\u5165QQ\u7fa4\u8ba8\u8bba**\uff0c\u6216\u8005\u76f4\u63a5\u641c\u7d22QQ\u7fa4\u53f7`1169600237`\uff0c\u95ee\u9898\u7b54\u6848\u4e3a\u535a\u4e3bGithub\u7684ID`yeyupiaoling`\u3002\n\n<div align=\"center\">\n  <img src=\"docs/images/qq.png\"/>\n</div>\n\n\n\u4f7f\u7528\u73af\u5883\uff1a\n\n - Anaconda 3\n - Python 3.8\n - Pytorch 1.12.1\n - Windows 10 or Ubuntu 18.04\n\n\n# \u6a21\u578b\u4e0b\u8f7d\n\n|    \u6a21\u578b     |    \u9884\u5904\u7406\u65b9\u6cd5    |                          \u6570\u636e\u96c6                           | \u7c7b\u522b\u6570\u91cf | \u5206\u7c7b\u51c6\u786e\u7387 | \u4e24\u4e24\u5bf9\u6bd4\u51c6\u786e\u7387 | \u6a21\u578b\u4e0b\u8f7d\u5730\u5740 |\n|:---------:|:-----------:|:------------------------------------------------------:|:----:|:-----:|:-------:|:------:|\n| EcapaTdnn | spectrogram | [\u4e2d\u6587\u8bed\u97f3\u8bed\u6599\u6570\u636e\u96c6](https://github.com/fighting41love/zhvoice) | 3242 |       |         |        |\n\n\n## \u5b89\u88c5\u73af\u5883\n\n - \u9996\u5148\u5b89\u88c5\u7684\u662fPytorch\u7684GPU\u7248\u672c\uff0c\u5982\u679c\u5df2\u7ecf\u5b89\u88c5\u8fc7\u4e86\uff0c\u8bf7\u8df3\u8fc7\u3002\n```shell\nconda install pytorch==1.12.1 torchvision==0.13.1 torchaudio==0.12.1 cudatoolkit=10.2 -c pytorch\n```\n\n - \u5b89\u88c5ppvector\u5e93\u3002\n \n\u4f7f\u7528pip\u5b89\u88c5\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a\n```shell\npython -m pip install mvector -U -i https://pypi.tuna.tsinghua.edu.cn/simple\n```\n\n**\u5efa\u8bae\u6e90\u7801\u5b89\u88c5**\uff0c\u6e90\u7801\u5b89\u88c5\u80fd\u4fdd\u8bc1\u4f7f\u7528\u6700\u65b0\u4ee3\u7801\u3002\n```shell\ngit clone https://github.com/yeyupiaoling/VoiceprintRecognition_Pytorch.git\ncd VoiceprintRecognition_Pytorch/\npython setup.py install\n```\n\n# \u521b\u5efa\u6570\u636e\n\u672c\u6559\u7a0b\u7b14\u8005\u4f7f\u7528\u7684\u662f[\u4e2d\u6587\u8bed\u97f3\u8bed\u6599\u6570\u636e\u96c6](https://github.com/fighting41love/zhvoice) \uff0c\u8fd9\u4e2a\u6570\u636e\u96c6\u4e00\u5171\u67093242\u4e2a\u4eba\u7684\u8bed\u97f3\u6570\u636e\uff0c\u67091130000+\u6761\u8bed\u97f3\u6570\u636e\uff0c\u4e0b\u8f7d\u4e4b\u524d\u8981\u5168\u90e8\u89e3\u538b\u6570\u636e\u96c6\u3002\u5982\u679c\u8bfb\u8005\u6709\u5176\u4ed6\u66f4\u597d\u7684\u6570\u636e\u96c6\uff0c\u53ef\u4ee5\u6df7\u5408\u5728\u4e00\u8d77\u4f7f\u7528\uff0c\u4f46\u6700\u597d\u662f\u8981\u7528python\u7684\u5de5\u5177\u6a21\u5757aukit\u5904\u7406\u97f3\u9891\uff0c\u964d\u566a\u548c\u53bb\u9664\u9759\u97f3\u3002\n\n\u9996\u5148\u662f\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5217\u8868\uff0c\u6570\u636e\u5217\u8868\u7684\u683c\u5f0f\u4e3a`<\u8bed\u97f3\u6587\u4ef6\u8def\u5f84\\t\u8bed\u97f3\u5206\u7c7b\u6807\u7b7e>`\uff0c\u521b\u5efa\u8fd9\u4e2a\u5217\u8868\u4e3b\u8981\u662f\u65b9\u4fbf\u4e4b\u540e\u7684\u8bfb\u53d6\uff0c\u4e5f\u662f\u65b9\u4fbf\u8bfb\u53d6\u4f7f\u7528\u5176\u4ed6\u7684\u8bed\u97f3\u6570\u636e\u96c6\uff0c\u8bed\u97f3\u5206\u7c7b\u6807\u7b7e\u662f\u6307\u8bf4\u8bdd\u4eba\u7684\u552f\u4e00ID\uff0c\u4e0d\u540c\u7684\u8bed\u97f3\u6570\u636e\u96c6\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f16\u5199\u5bf9\u5e94\u7684\u751f\u6210\u6570\u636e\u5217\u8868\u7684\u51fd\u6570\uff0c\u628a\u8fd9\u4e9b\u6570\u636e\u96c6\u90fd\u5199\u5728\u540c\u4e00\u4e2a\u6570\u636e\u5217\u8868\u4e2d\u3002\n\n\u5728`create_data.py`\u5199\u4e0b\u4ee5\u4e0b\u4ee3\u7801\uff0c\u56e0\u4e3a[\u4e2d\u6587\u8bed\u97f3\u8bed\u6599\u6570\u636e\u96c6](https://github.com/fighting41love/zhvoice) \u8fd9\u4e2a\u6570\u636e\u96c6\u662fmp3\u683c\u5f0f\u7684\uff0c\u4f5c\u8005\u53d1\u73b0\u8fd9\u79cd\u683c\u5f0f\u8bfb\u53d6\u901f\u5ea6\u5f88\u6162\uff0c\u6240\u4ee5\u7b14\u8005\u628a\u5168\u90e8\u7684mp3\u683c\u5f0f\u7684\u97f3\u9891\u8f6c\u6362\u4e3awav\u683c\u5f0f\uff0c\u5728\u521b\u5efa\u6570\u636e\u5217\u8868\u4e4b\u540e\uff0c\u53ef\u80fd\u6709\u4e9b\u6570\u636e\u7684\u662f\u9519\u8bef\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u68c0\u67e5\u4e00\u4e0b\uff0c\u5c06\u9519\u8bef\u7684\u6570\u636e\u5220\u9664\u3002\u6267\u884c\u4e0b\u9762\u7a0b\u5e8f\u5b8c\u6210\u6570\u636e\u51c6\u5907\u3002\n```shell\npython create_data.py\n```\n\n\u6267\u884c\u4e0a\u9762\u7684\u7a0b\u5e8f\u4e4b\u540e\uff0c\u4f1a\u751f\u6210\u4ee5\u4e0b\u7684\u6570\u636e\u683c\u5f0f\uff0c\u5982\u679c\u8981\u81ea\u5b9a\u4e49\u6570\u636e\uff0c\u53c2\u8003\u5982\u4e0b\u6570\u636e\u5217\u8868\uff0c\u524d\u9762\u662f\u97f3\u9891\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u540e\u9762\u7684\u662f\u8be5\u97f3\u9891\u5bf9\u5e94\u7684\u8bf4\u8bdd\u4eba\u7684\u6807\u7b7e\uff0c\u5c31\u8ddf\u5206\u7c7b\u4e00\u6837\u3002\n```\ndataset/zhvoice/zhmagicdata/5_895/5_895_20170614203758.wav\t3238\ndataset/zhvoice/zhmagicdata/5_895/5_895_20170614214007.wav\t3238\ndataset/zhvoice/zhmagicdata/5_941/5_941_20170613151344.wav\t3239\ndataset/zhvoice/zhmagicdata/5_941/5_941_20170614221329.wav\t3239\ndataset/zhvoice/zhmagicdata/5_941/5_941_20170616153308.wav\t3239\ndataset/zhvoice/zhmagicdata/5_968/5_968_20170614162657.wav\t3240\ndataset/zhvoice/zhmagicdata/5_968/5_968_20170622194003.wav\t3240\ndataset/zhvoice/zhmagicdata/5_968/5_968_20170707200554.wav\t3240\ndataset/zhvoice/zhmagicdata/5_970/5_970_20170616000122.wav\t3241\n```\n\n# \u8bad\u7ec3\u6a21\u578b\n\u4f7f\u7528`train.py`\u8bad\u7ec3\u6a21\u578b\uff0c\u672c\u9879\u76ee\u652f\u6301\u591a\u4e2a\u97f3\u9891\u9884\u5904\u7406\u65b9\u5f0f\uff0c\u901a\u8fc7\u53c2\u6570`feature_method`\u53ef\u4ee5\u6307\u5b9a\uff0c`melspectrogram`\u4e3a\u6885\u5c14\u9891\u8c31\uff0c`spectrogram`\u4e3a\u58f0\u8c31\u56fe\u3002\u901a\u8fc7\u53c2\u6570`augment_conf_path`\u53ef\u4ee5\u6307\u5b9a\u6570\u636e\u589e\u5f3a\u65b9\u5f0f\u3002\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u4f7f\u7528VisualDL\u4fdd\u5b58\u8bad\u7ec3\u65e5\u5fd7\uff0c\u901a\u8fc7\u542f\u52a8VisualDL\u53ef\u4ee5\u968f\u65f6\u67e5\u770b\u8bad\u7ec3\u7ed3\u679c\uff0c\u542f\u52a8\u547d\u4ee4`visualdl --logdir=log --host 0.0.0.0`\n```shell\n# \u5355\u5361\u8bad\u7ec3\nCUDA_VISIBLE_DEVICES=0 python train.py\n# \u591a\u5361\u8bad\u7ec3\nCUDA_VISIBLE_DEVICES=0,1 python -m torch.distributed.launch --nproc_per_node=2 train.py\n```\n\n\u8bad\u7ec3\u8f93\u51fa\u65e5\u5fd7\uff1a\n```\n[2022-11-05 19:58:31.558526 INFO   ] utils:print_arguments:12 - ----------- \u989d\u5916\u914d\u7f6e\u53c2\u6570 -----------\n[2022-11-05 19:58:31.558526 INFO   ] utils:print_arguments:14 - augment_conf_path: configs/augmentation.json\n[2022-11-05 19:58:31.558526 INFO   ] utils:print_arguments:14 - configs: configs/ecapa_tdnn.yml\n[2022-11-05 19:58:31.558526 INFO   ] utils:print_arguments:14 - pretrained_model: None\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:14 - resume_model: None\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:14 - save_model_path: models/\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:14 - use_gpu: True\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:15 - ------------------------------------------------\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:16 - ----------- \u914d\u7f6e\u6587\u4ef6\u53c2\u6570 -----------\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:19 - dataset_conf:\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:21 - \tbatch_size: 64\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:21 - \tchunk_duration: 3\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:21 - \tdo_vad: False\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:21 - \tmin_duration: 0.5\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:21 - \tnum_speakers: 10\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:21 - \tnum_workers: 8\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:21 - \ttest_list: dataset/test_list.txt\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:21 - \ttrain_list: dataset/train_list.txt\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:19 - model_conf:\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:21 - \tchannels: [512, 512, 512, 512, 1536]\n[2022-11-05 19:58:31.559523 INFO   ] utils:print_arguments:21 - \tdilations: [1, 2, 3, 4, 1]\n[2022-11-05 19:58:31.560524 INFO   ] utils:print_arguments:21 - \tkernel_sizes: [5, 3, 3, 3, 1]\n[2022-11-05 19:58:31.560524 INFO   ] utils:print_arguments:21 - \tlin_neurons: 192\n[2022-11-05 19:58:31.560524 INFO   ] utils:print_arguments:19 - optimizer_conf:\n[2022-11-05 19:58:31.560524 INFO   ] utils:print_arguments:21 - \tlearning_rate: 0.001\n[2022-11-05 19:58:31.560524 INFO   ] utils:print_arguments:21 - \twarmup_steps: 200\n[2022-11-05 19:58:31.560524 INFO   ] utils:print_arguments:21 - \tweight_decay: 1e-6\n[2022-11-05 19:58:31.560524 INFO   ] utils:print_arguments:19 - preprocess_conf:\n[2022-11-05 19:58:31.568523 INFO   ] utils:print_arguments:21 - \tfeature_method: spectrogram\n[2022-11-05 19:58:31.568523 INFO   ] utils:print_arguments:21 - \tframe_length: 25\n[2022-11-05 19:58:31.568523 INFO   ] utils:print_arguments:21 - \tframe_shift: 10\n[2022-11-05 19:58:31.568523 INFO   ] utils:print_arguments:21 - \tn_mels: 80\n[2022-11-05 19:58:31.568523 INFO   ] utils:print_arguments:21 - \tsample_rate: 16000\n[2022-11-05 19:58:31.568523 INFO   ] utils:print_arguments:21 - \ttarget_dB: -20\n[2022-11-05 19:58:31.568523 INFO   ] utils:print_arguments:21 - \tuse_dB_normalization: True\n[2022-11-05 19:58:31.568523 INFO   ] utils:print_arguments:19 - train_conf:\n[2022-11-05 19:58:31.568523 INFO   ] utils:print_arguments:21 - \tlog_interval: 10\n[2022-11-05 19:58:31.568523 INFO   ] utils:print_arguments:21 - \tmax_epoch: 30\n[2022-11-05 19:58:31.568523 INFO   ] utils:print_arguments:23 - use_model: ecapa_tdnn\n[2022-11-05 19:58:31.568523 INFO   ] utils:print_arguments:24 - ------------------------------------------------\n[2022-11-05 19:58:31.589525 INFO   ] augmentation:_parse_pipeline_from:126 - \u6570\u636e\u589e\u5f3a\u914d\u7f6e\uff1a{'type': 'noise', 'aug_type': 'audio', 'params': {'min_snr_dB': 10, 'max_snr_dB': 50, 'repetition': 2, 'noise_dir': 'dataset/noise/'}, 'prob': 0.0}\n[2022-11-05 19:58:31.589525 INFO   ] augmentation:_parse_pipeline_from:126 - \u6570\u636e\u589e\u5f3a\u914d\u7f6e\uff1a{'type': 'resample', 'aug_type': 'audio', 'params': {'new_sample_rate': [8000, 32000, 44100, 48000]}, 'prob': 0.0}\n[2022-11-05 19:58:31.589525 INFO   ] augmentation:_parse_pipeline_from:126 - \u6570\u636e\u589e\u5f3a\u914d\u7f6e\uff1a{'type': 'speed', 'aug_type': 'audio', 'params': {'min_speed_rate': 0.9, 'max_speed_rate': 1.1, 'num_rates': 3}, 'prob': 0.0}\n[2022-11-05 19:58:31.589525 INFO   ] augmentation:_parse_pipeline_from:126 - \u6570\u636e\u589e\u5f3a\u914d\u7f6e\uff1a{'type': 'shift', 'aug_type': 'audio', 'params': {'min_shift_ms': -5, 'max_shift_ms': 5}, 'prob': 0.0}\n[2022-11-05 19:58:31.590535 INFO   ] augmentation:_parse_pipeline_from:126 - \u6570\u636e\u589e\u5f3a\u914d\u7f6e\uff1a{'type': 'volume', 'aug_type': 'audio', 'params': {'min_gain_dBFS': -15, 'max_gain_dBFS': 15}, 'prob': 0.0}\n[2022-11-05 19:58:31.590535 INFO   ] augmentation:_parse_pipeline_from:126 - \u6570\u636e\u589e\u5f3a\u914d\u7f6e\uff1a{'type': 'specaug', 'aug_type': 'feature', 'params': {'inplace': True, 'max_time_warp': 5, 'max_t_ratio': 0.01, 'n_freq_masks': 2, 'max_f_ratio': 0.05, 'n_time_masks': 2, 'replace_with_zero': False}, 'prob': 0.0}\n[2022-11-05 19:58:31.590535 INFO   ] augmentation:_parse_pipeline_from:126 - \u6570\u636e\u589e\u5f3a\u914d\u7f6e\uff1a{'type': 'specsub', 'aug_type': 'feature', 'params': {'max_t': 10, 'num_t_sub': 2}, 'prob': 0.0}\nI0424 08:57:03.707505  3377 nccl_context.cc:74] init nccl context nranks: 2 local rank: 0 gpu id: 0 ring id: 0\nW0424 08:57:03.930370  3377 device_context.cc:447] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 11.6, Runtime API Version: 10.2\nW0424 08:57:03.932493  3377 device_context.cc:465] device: 0, cuDNN Version: 7.6.\nI0424 08:57:05.431638  3377 nccl_context.cc:107] init nccl context nranks: 2 local rank: 0 gpu id: 0 ring id: 10\n\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\n[2022-04-24 09:25:10.481272] Train epoch [0/30], batch: [7500/8290], loss: 9.03724, accuracy: 0.33252, lr: 0.00100000, eta: 14:58:26\n[2022-04-24 09:25:32.909873] Train epoch [0/30], batch: [7600/8290], loss: 9.00004, accuracy: 0.33600, lr: 0.00100000, eta: 15:09:07\n[2022-04-24 09:25:55.321806] Train epoch [0/30], batch: [7700/8290], loss: 8.96284, accuracy: 0.33950, lr: 0.00100000, eta: 15:13:13\n[2022-04-24 09:26:17.836304] Train epoch [0/30], batch: [7800/8290], loss: 8.92626, accuracy: 0.34294, lr: 0.00100000, eta: 14:57:15\n[2022-04-24 09:26:40.306800] Train epoch [0/30], batch: [7900/8290], loss: 8.88968, accuracy: 0.34638, lr: 0.00100000, eta: 14:51:06\n[2022-04-24 09:27:02.778450] Train epoch [0/30], batch: [8000/8290], loss: 8.85430, accuracy: 0.34964, lr: 0.00100000, eta: 15:00:36\n[2022-04-24 09:27:25.240278] Train epoch [0/30], batch: [8100/8290], loss: 8.81858, accuracy: 0.35294, lr: 0.00100000, eta: 14:51:58\n[2022-04-24 09:27:47.690570] Train epoch [0/30], batch: [8200/8290], loss: 8.78368, accuracy: 0.35630, lr: 0.00100000, eta: 14:55:41\n======================================================================\n[2022-04-24 09:28:12.084404] Test 0, accuracy: 0.76057 time: 0:00:04\n======================================================================\n[2022-04-24 09:28:12.909394] Train epoch [1/30], batch: [0/8290], loss: 5.83753, accuracy: 0.68750, lr: 0.00099453, eta: 2 days, 3:47:48\n[2022-04-24 09:28:35.346418] Train epoch [1/30], batch: [100/8290], loss: 5.80430, accuracy: 0.64527, lr: 0.00099453, eta: 15:00:01\n[2022-04-24 09:28:57.873686] Train epoch [1/30], batch: [200/8290], loss: 5.78946, accuracy: 0.64218, lr: 0.00099453, eta: 14:46:39\n\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\n```\n\nVisualDL\u9875\u9762\uff1a\n![VisualDL\u9875\u9762](./docs/images/log.jpg)\n\n\n# \u6570\u636e\u589e\u5f3a\n\u672c\u9879\u76ee\u63d0\u4f9b\u4e86\u51e0\u79cd\u97f3\u9891\u589e\u5f3a\u64cd\u4f5c\uff0c\u5206\u5e03\u662f\u968f\u673a\u88c1\u526a\uff0c\u6dfb\u52a0\u80cc\u666f\u566a\u58f0\uff0c\u8c03\u8282\u8bed\u901f\uff0c\u8c03\u8282\u97f3\u91cf\uff0c\u548cSpecAugment\u3002\u5176\u4e2d\u540e\u97624\u79cd\u589e\u52a0\u7684\u53c2\u6570\u53ef\u4ee5\u5728`configs/augmentation.json`\u4fee\u6539\uff0c\u53c2\u6570`prob`\u662f\u6307\u5b9a\u8be5\u589e\u5f3a\u64cd\u4f5c\u7684\u6982\u7387\uff0c\u5982\u679c\u4e0d\u60f3\u4f7f\u7528\u8be5\u589e\u5f3a\u65b9\u5f0f\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a0\u3002\u8981\u4e3b\u8981\u7684\u662f\uff0c\u6dfb\u52a0\u80cc\u666f\u566a\u58f0\u9700\u8981\u628a\u591a\u4e2a\u566a\u58f0\u97f3\u9891\u6587\u4ef6\u5b58\u653e\u5728`dataset/noise`\uff0c\u5426\u5219\u4f1a\u8df3\u8fc7\u566a\u58f0\u589e\u5f3a\n```yaml\nnoise:\n  min_snr_dB: 10\n  max_snr_dB: 30\n  noise_path: \"dataset/noise\"\n  prob: 0.5\n```\n\n\n\n# \u8bc4\u4f30\u6a21\u578b\n\u8bad\u7ec3\u7ed3\u675f\u4e4b\u540e\u4f1a\u4fdd\u5b58\u9884\u6d4b\u6a21\u578b\uff0c\u6211\u4eec\u7528\u9884\u6d4b\u6a21\u578b\u6765\u9884\u6d4b\u6d4b\u8bd5\u96c6\u4e2d\u7684\u97f3\u9891\u7279\u5f81\uff0c\u7136\u540e\u4f7f\u7528\u97f3\u9891\u7279\u5f81\u8fdb\u884c\u4e24\u4e24\u5bf9\u6bd4\uff0c\u9608\u503c\u4ece0\u52301,\u6b65\u957f\u4e3a0.01\u8fdb\u884c\u63a7\u5236\uff0c\u627e\u5230\u6700\u4f73\u7684\u9608\u503c\u5e76\u8ba1\u7b97\u51c6\u786e\u7387\u3002\n```shell\npython eval.py\n```\n\n\u8f93\u51fa\u7c7b\u4f3c\u5982\u4e0b\uff1a\n```\n\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\n------------------------------------------------\nW0425 08:27:32.057426 17654 device_context.cc:447] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 11.6, Runtime API Version: 10.2\nW0425 08:27:32.065165 17654 device_context.cc:465] device: 0, cuDNN Version: 7.6.\n\u6210\u529f\u52a0\u8f7d\u6a21\u578b\u53c2\u6570\u548c\u4f18\u5316\u65b9\u6cd5\u53c2\u6570\uff1amodels/ecapa_tdnn/model.pdparams\n\u5f00\u59cb\u63d0\u53d6\u5168\u90e8\u7684\u97f3\u9891\u7279\u5f81...\n167it [00:15, 10.70it/s]\n\u5206\u7c7b\u51c6\u786e\u7387\u4e3a\uff1a0.9608\n\u5f00\u59cb\u4e24\u4e24\u5bf9\u6bd4\u97f3\u9891\u7279\u5f81...\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 5332/5332 [00:05<00:00, 1027.83it/s]\n\u627e\u51fa\u6700\u4f18\u7684\u9608\u503c\u548c\u5bf9\u5e94\u7684\u51c6\u786e\u7387...\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 100/100 [00:06<00:00, 16.54it/s]\n\u5f53\u9608\u503c\u4e3a0.58, \u4e24\u4e24\u5bf9\u6bd4\u51c6\u786e\u7387\u6700\u5927\uff0c\u51c6\u786e\u7387\u4e3a\uff1a0.99980\n```\n\n# \u58f0\u7eb9\u5bf9\u6bd4\n\u4e0b\u9762\u5f00\u59cb\u5b9e\u73b0\u58f0\u7eb9\u5bf9\u6bd4\uff0c\u521b\u5efa`infer_contrast.py`\u7a0b\u5e8f\uff0c\u7f16\u5199`infer()`\u51fd\u6570\uff0c\u5728\u7f16\u5199\u6a21\u578b\u7684\u65f6\u5019\uff0c\u6a21\u578b\u662f\u6709\u4e24\u4e2a\u8f93\u51fa\u7684\uff0c\u7b2c\u4e00\u4e2a\u662f\u6a21\u578b\u7684\u5206\u7c7b\u8f93\u51fa\uff0c\u7b2c\u4e8c\u4e2a\u662f\u97f3\u9891\u7279\u5f81\u8f93\u51fa\u3002\u6240\u4ee5\u5728\u8fd9\u91cc\u8981\u8f93\u51fa\u7684\u662f\u97f3\u9891\u7684\u7279\u5f81\u503c\uff0c\u6709\u4e86\u97f3\u9891\u7684\u7279\u5f81\u503c\u5c31\u53ef\u4ee5\u505a\u58f0\u7eb9\u8bc6\u522b\u4e86\u3002\u6211\u4eec\u8f93\u5165\u4e24\u4e2a\u8bed\u97f3\uff0c\u901a\u8fc7\u9884\u6d4b\u51fd\u6570\u83b7\u53d6\u4ed6\u4eec\u7684\u7279\u5f81\u6570\u636e\uff0c\u4f7f\u7528\u8fd9\u4e2a\u7279\u5f81\u6570\u636e\u53ef\u4ee5\u6c42\u4ed6\u4eec\u7684\u5bf9\u89d2\u4f59\u5f26\u503c\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u53ef\u4ee5\u4f5c\u4e3a\u4ed6\u4eec\u76f8\u8bc6\u5ea6\u3002\u5bf9\u4e8e\u8fd9\u4e2a\u76f8\u8bc6\u5ea6\u7684\u9608\u503c`threshold`\uff0c\u8bfb\u8005\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u9879\u76ee\u7684\u51c6\u786e\u5ea6\u8981\u6c42\u8fdb\u884c\u4fee\u6539\u3002\n```shell\npython infer_contrast.py --audio_path1=audio/a_1.wav --audio_path2=audio/b_2.wav\n```\n\n\u8f93\u51fa\u7c7b\u4f3c\u5982\u4e0b\uff1a\n```\n-----------  Configuration Arguments -----------\naudio_path1: audio/a_1.wav\naudio_path2: audio/b_2.wav\nfeature_method: melspectrogram\nresume: models/\nthreshold: 0.5\nuse_model: ecapa_tdnn\n------------------------------------------------\nW0425 08:29:10.006249 21121 device_context.cc:447] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 11.6, Runtime API Version: 10.2\nW0425 08:29:10.008555 21121 device_context.cc:465] device: 0, cuDNN Version: 7.6.\n\u6210\u529f\u52a0\u8f7d\u6a21\u578b\u53c2\u6570\u548c\u4f18\u5316\u65b9\u6cd5\u53c2\u6570\uff1amodels/ecapa_tdnn/model.pdparams\naudio/a_1.wav \u548c audio/b_2.wav \u4e0d\u662f\u540c\u4e00\u4e2a\u4eba\uff0c\u76f8\u4f3c\u5ea6\u4e3a\uff1a-0.09565544128417969\n```\n\n# \u58f0\u7eb9\u8bc6\u522b\n\u5728\u4e0a\u9762\u7684\u58f0\u7eb9\u5bf9\u6bd4\u7684\u57fa\u7840\u4e0a\uff0c\u6211\u4eec\u521b\u5efa`infer_recognition.py`\u5b9e\u73b0\u58f0\u7eb9\u8bc6\u522b\u3002\u540c\u6837\u662f\u4f7f\u7528\u4e0a\u9762\u58f0\u7eb9\u5bf9\u6bd4\u7684`infer()`\u9884\u6d4b\u51fd\u6570\uff0c\u901a\u8fc7\u8fd9\u4e24\u4e2a\u540c\u6837\u83b7\u53d6\u8bed\u97f3\u7684\u7279\u5f81\u6570\u636e\u3002 \u4e0d\u540c\u7684\u662f\u7b14\u8005\u589e\u52a0\u4e86`load_audio_db()`\u548c`register()`\uff0c\u4ee5\u53ca`recognition()`\uff0c\u7b2c\u4e00\u4e2a\u51fd\u6570\u662f\u52a0\u8f7d\u58f0\u7eb9\u5e93\u4e2d\u7684\u8bed\u97f3\u6570\u636e\uff0c\u8fd9\u4e9b\u97f3\u9891\u5c31\u662f\u76f8\u5f53\u4e8e\u5df2\u7ecf\u6ce8\u518c\u7684\u7528\u6237\uff0c\u4ed6\u4eec\u6ce8\u518c\u7684\u8bed\u97f3\u6570\u636e\u4f1a\u5b58\u653e\u5728\u8fd9\u91cc\uff0c\u5982\u679c\u6709\u7528\u6237\u9700\u8981\u901a\u8fc7\u58f0\u7eb9\u767b\u5f55\uff0c\u5c31\u9700\u8981\u62ff\u5230\u7528\u6237\u7684\u8bed\u97f3\u548c\u8bed\u97f3\u5e93\u4e2d\u7684\u8bed\u97f3\u8fdb\u884c\u58f0\u7eb9\u5bf9\u6bd4\uff0c\u5982\u679c\u5bf9\u6bd4\u6210\u529f\uff0c\u90a3\u5c31\u76f8\u5f53\u4e8e\u767b\u5f55\u6210\u529f\u5e76\u4e14\u83b7\u53d6\u7528\u6237\u6ce8\u518c\u65f6\u7684\u4fe1\u606f\u6570\u636e\u3002\u7b2c\u4e8c\u4e2a\u51fd\u6570`register()`\u5176\u5b9e\u5c31\u662f\u628a\u5f55\u97f3\u4fdd\u5b58\u5728\u58f0\u7eb9\u5e93\u4e2d\uff0c\u540c\u65f6\u83b7\u53d6\u8be5\u97f3\u9891\u7684\u7279\u5f81\u6dfb\u52a0\u5230\u5f85\u5bf9\u6bd4\u7684\u6570\u636e\u7279\u5f81\u4e2d\u3002\u6700\u540e`recognition()`\u51fd\u6570\u4e2d\uff0c\u8fd9\u4e2a\u51fd\u6570\u5c31\u662f\u5c06\u8f93\u5165\u7684\u8bed\u97f3\u548c\u8bed\u97f3\u5e93\u4e2d\u7684\u8bed\u97f3\u4e00\u4e00\u5bf9\u6bd4\u3002\n\u6709\u4e86\u4e0a\u9762\u7684\u58f0\u7eb9\u8bc6\u522b\u7684\u51fd\u6570\uff0c\u8bfb\u8005\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u9879\u76ee\u7684\u9700\u6c42\u5b8c\u6210\u58f0\u7eb9\u8bc6\u522b\u7684\u65b9\u5f0f\uff0c\u4f8b\u5982\u7b14\u8005\u4e0b\u9762\u63d0\u4f9b\u7684\u662f\u901a\u8fc7\u5f55\u97f3\u6765\u5b8c\u6210\u58f0\u7eb9\u8bc6\u522b\u3002\u9996\u5148\u5fc5\u987b\u8981\u52a0\u8f7d\u8bed\u97f3\u5e93\u4e2d\u7684\u8bed\u97f3\uff0c\u8bed\u97f3\u5e93\u6587\u4ef6\u5939\u4e3a`audio_db`\uff0c\u7136\u540e\u7528\u6237\u56de\u8f66\u540e\u5f55\u97f33\u79d2\u949f\uff0c\u7136\u540e\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u5f55\u97f3\uff0c\u5e76\u4f7f\u7528\u5f55\u97f3\u5230\u7684\u97f3\u9891\u8fdb\u884c\u58f0\u7eb9\u8bc6\u522b\uff0c\u53bb\u5339\u914d\u8bed\u97f3\u5e93\u4e2d\u7684\u8bed\u97f3\uff0c\u83b7\u53d6\u7528\u6237\u7684\u4fe1\u606f\u3002\u901a\u8fc7\u8fd9\u6837\u65b9\u5f0f\uff0c\u8bfb\u8005\u4e5f\u53ef\u4ee5\u4fee\u6539\u6210\u901a\u8fc7\u670d\u52a1\u8bf7\u6c42\u7684\u65b9\u5f0f\u5b8c\u6210\u58f0\u7eb9\u8bc6\u522b\uff0c\u4f8b\u5982\u63d0\u4f9b\u4e00\u4e2aAPI\u4f9bAPP\u8c03\u7528\uff0c\u7528\u6237\u5728APP\u4e0a\u901a\u8fc7\u58f0\u7eb9\u767b\u5f55\u65f6\uff0c\u628a\u5f55\u97f3\u5230\u7684\u8bed\u97f3\u53d1\u9001\u5230\u540e\u7aef\u5b8c\u6210\u58f0\u7eb9\u8bc6\u522b\uff0c\u518d\u628a\u7ed3\u679c\u8fd4\u56de\u7ed9APP\uff0c\u524d\u63d0\u662f\u7528\u6237\u5df2\u7ecf\u4f7f\u7528\u8bed\u97f3\u6ce8\u518c\uff0c\u5e76\u6210\u529f\u628a\u8bed\u97f3\u6570\u636e\u5b58\u653e\u5728`audio_db`\u6587\u4ef6\u5939\u4e2d\u3002\n```shell\npython infer_recognition.py\n```\n\n\u8f93\u51fa\u7c7b\u4f3c\u5982\u4e0b\uff1a\n```\n-----------  Configuration Arguments -----------\naudio_db: audio_db\nfeature_method: melspectrogram\nresume: models/\nthreshold: 0.5\nuse_model: ecapa_tdnn\n------------------------------------------------\nW0425 08:30:13.257884 23889 device_context.cc:447] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 11.6, Runtime API Version: 10.2\nW0425 08:30:13.260191 23889 device_context.cc:465] device: 0, cuDNN Version: 7.6.\n\u6210\u529f\u52a0\u8f7d\u6a21\u578b\u53c2\u6570\u548c\u4f18\u5316\u65b9\u6cd5\u53c2\u6570\uff1amodels/ecapa_tdnn/model.pdparams\nLoaded \u6c99\u745e\u91d1 audio.\nLoaded \u674e\u8fbe\u5eb7 audio.\n\u8bf7\u9009\u62e9\u529f\u80fd\uff0c0\u4e3a\u6ce8\u518c\u97f3\u9891\u5230\u58f0\u7eb9\u5e93\uff0c1\u4e3a\u6267\u884c\u58f0\u7eb9\u8bc6\u522b\uff1a0\n\u6309\u4e0b\u56de\u8f66\u952e\u5f00\u673a\u5f55\u97f3\uff0c\u5f55\u97f33\u79d2\u4e2d\uff1a\n\u5f00\u59cb\u5f55\u97f3......\n\u5f55\u97f3\u5df2\u7ed3\u675f!\n\u8bf7\u8f93\u5165\u8be5\u97f3\u9891\u7528\u6237\u7684\u540d\u79f0\uff1a\u591c\u96e8\u98d8\u96f6\n\u8bf7\u9009\u62e9\u529f\u80fd\uff0c0\u4e3a\u6ce8\u518c\u97f3\u9891\u5230\u58f0\u7eb9\u5e93\uff0c1\u4e3a\u6267\u884c\u58f0\u7eb9\u8bc6\u522b\uff1a1\n\u6309\u4e0b\u56de\u8f66\u952e\u5f00\u673a\u5f55\u97f3\uff0c\u5f55\u97f33\u79d2\u4e2d\uff1a\n\u5f00\u59cb\u5f55\u97f3......\n\u5f55\u97f3\u5df2\u7ed3\u675f!\n\u8bc6\u522b\u8bf4\u8bdd\u7684\u4e3a\uff1a\u591c\u96e8\u98d8\u96f6\uff0c\u76f8\u4f3c\u5ea6\u4e3a\uff1a0.920434\n```\n\n# \u5176\u4ed6\u7248\u672c\n - Tensorflow\uff1a[VoiceprintRecognition-Tensorflow](https://github.com/yeyupiaoling/VoiceprintRecognition-Tensorflow)\n - PaddlePaddle\uff1a[VoiceprintRecognition-PaddlePaddle](https://github.com/yeyupiaoling/VoiceprintRecognition-PaddlePaddle)\n - Keras\uff1a[VoiceprintRecognition-Keras](https://github.com/yeyupiaoling/VoiceprintRecognition-Keras)\n\n\n# \u53c2\u8003\u8d44\u6599\n1. https://github.com/PaddlePaddle/PaddleSpeech\n2. https://github.com/yeyupiaoling/PaddlePaddle-MobileFaceNets\n3. https://github.com/yeyupiaoling/PPASR\n\n\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "https://github.com/yeyupiaoling/VoiceprintRecognition_Pytorch.git",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/yeyupiaoling/VoiceprintRecognition_Pytorch",
            "keywords": "Voice,Pytorch",
            "license": "Apache License 2.0",
            "maintainer": "",
            "maintainer_email": "",
            "name": "mvector",
            "package_url": "https://pypi.org/project/mvector/",
            "platform": null,
            "project_url": "https://pypi.org/project/mvector/",
            "project_urls": {
                "Download": "https://github.com/yeyupiaoling/VoiceprintRecognition_Pytorch.git",
                "Homepage": "https://github.com/yeyupiaoling/VoiceprintRecognition_Pytorch"
            },
            "release_url": "https://pypi.org/project/mvector/0.1.0/",
            "requires_dist": [
                "numba (>=0.52.0)",
                "librosa (>=0.9.1)",
                "numpy (>=1.19.2)",
                "tqdm (>=4.59.0)",
                "visualdl (>=2.1.1)",
                "pyaudio (>=0.2.11)",
                "torchsummary (>=1.5.1)"
            ],
            "requires_python": "",
            "summary": "Voice Print Recognition toolkit on Pytorch",
            "version": "0.1.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15721244,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "2ae69e010f1e1d616e5172cf8ccf5ffb",
                    "sha256": "9b09a89f7757fe62b002df4130b0386bec343b8e570e55f895758614f492c6e3"
                },
                "downloads": -1,
                "filename": "mvector-0.1.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "2ae69e010f1e1d616e5172cf8ccf5ffb",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": null,
                "size": 47380,
                "upload_time": "2022-11-10T07:27:39",
                "upload_time_iso_8601": "2022-11-10T07:27:39.778071Z",
                "url": "https://files.pythonhosted.org/packages/47/3e/3a456541530312415f1ccd0b129d1307da6a504ebb67a5107b3bc2482809/mvector-0.1.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}