{
    "1.0.0": {
        "info": {
            "author": "Dave Signer",
            "author_email": "david@opengis.ch",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: GNU General Public License v2 or later (GPLv2+)",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Scientific/Engineering :: GIS"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/opengisch/toppingmaker",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "toppingmaker",
            "package_url": "https://pypi.org/project/toppingmaker/",
            "platform": null,
            "project_url": "https://pypi.org/project/toppingmaker/",
            "project_urls": {
                "Homepage": "https://github.com/opengisch/toppingmaker"
            },
            "release_url": "https://pypi.org/project/toppingmaker/1.0.0/",
            "requires_dist": null,
            "requires_python": ">=3.6",
            "summary": "Package to create parameterized QGIS projects and dump it into a YAML structure.",
            "version": "1.0.0",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15721611,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "19345718260d6b8190997cfdc7677f29",
                    "sha256": "914143f866d9df8162511ff608d2b53dfd7944e5dabee8bdcc0405b7a18a4169"
                },
                "downloads": -1,
                "filename": "toppingmaker-1.0.0-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "19345718260d6b8190997cfdc7677f29",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6",
                "size": 23457,
                "upload_time": "2022-09-06T08:36:26",
                "upload_time_iso_8601": "2022-09-06T08:36:26.001274Z",
                "url": "https://files.pythonhosted.org/packages/dd/9f/3cac0b5a9ee2980f4440dbd5bcbc84560ba7b0e0e26ee20ed272818dbfce/toppingmaker-1.0.0-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "74be3c7ec6af0ae127ddaf1c98d580a0",
                    "sha256": "dd672e29f3714577cc75d65f21ef9e3c3819b9e96e21324b1b198934761707da"
                },
                "downloads": -1,
                "filename": "toppingmaker-1.0.0.tar.gz",
                "has_sig": false,
                "md5_digest": "74be3c7ec6af0ae127ddaf1c98d580a0",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 22500,
                "upload_time": "2022-09-06T08:36:27",
                "upload_time_iso_8601": "2022-09-06T08:36:27.576002Z",
                "url": "https://files.pythonhosted.org/packages/94/81/88ab6e3350d4998b769121f2dd8e21a11254028fb41639b39d09c5be9dde/toppingmaker-1.0.0.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "1.0.1": {
        "info": {
            "author": "Dave Signer",
            "author_email": "david@opengis.ch",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: GNU General Public License v2 or later (GPLv2+)",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Scientific/Engineering :: GIS"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/opengisch/toppingmaker",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "toppingmaker",
            "package_url": "https://pypi.org/project/toppingmaker/",
            "platform": null,
            "project_url": "https://pypi.org/project/toppingmaker/",
            "project_urls": {
                "Homepage": "https://github.com/opengisch/toppingmaker"
            },
            "release_url": "https://pypi.org/project/toppingmaker/1.0.1/",
            "requires_dist": null,
            "requires_python": ">=3.6",
            "summary": "Package to create parameterized QGIS projects and dump it into a YAML structure.",
            "version": "1.0.1",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15721611,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "e31c6ce2a796b659e2785f530b6e025f",
                    "sha256": "257fb32d29d5e3d9f0fa1b9b8566ddfb59b7caa6acf1773ad62f1041d18dc794"
                },
                "downloads": -1,
                "filename": "toppingmaker-1.0.1-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "e31c6ce2a796b659e2785f530b6e025f",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6",
                "size": 23503,
                "upload_time": "2022-09-08T04:53:38",
                "upload_time_iso_8601": "2022-09-08T04:53:38.038491Z",
                "url": "https://files.pythonhosted.org/packages/ae/4c/5063d94d74d2cb637cafe1416e00b1b1097cd138eee3a9859416c0bd2276/toppingmaker-1.0.1-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "cfbea2f2af72f1d55f455d512ff3ce06",
                    "sha256": "eaebf75d8be7ff79890014b022710380cbbc98d6661d210947c598f35abd4d87"
                },
                "downloads": -1,
                "filename": "toppingmaker-1.0.1.tar.gz",
                "has_sig": false,
                "md5_digest": "cfbea2f2af72f1d55f455d512ff3ce06",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 22575,
                "upload_time": "2022-09-08T04:53:39",
                "upload_time_iso_8601": "2022-09-08T04:53:39.219159Z",
                "url": "https://files.pythonhosted.org/packages/ac/b2/c6b3b70e1a30322863f59e21641489d443ee31289db51fef9128db089003/toppingmaker-1.0.1.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "1.0.2": {
        "info": {
            "author": "Dave Signer",
            "author_email": "david@opengis.ch",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: GNU General Public License v2 or later (GPLv2+)",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Scientific/Engineering :: GIS"
            ],
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/opengisch/toppingmaker",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "toppingmaker",
            "package_url": "https://pypi.org/project/toppingmaker/",
            "platform": null,
            "project_url": "https://pypi.org/project/toppingmaker/",
            "project_urls": {
                "Homepage": "https://github.com/opengisch/toppingmaker"
            },
            "release_url": "https://pypi.org/project/toppingmaker/1.0.2/",
            "requires_dist": null,
            "requires_python": ">=3.6",
            "summary": "Package to create parameterized QGIS projects and dump it into a YAML structure.",
            "version": "1.0.2",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15721611,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "9fed01022c9425600c2bf50cf14d1c2c",
                    "sha256": "d8ec8e74dd16d3e921cd3bc5c41d169835150765271332379d9f3adb9226ec3f"
                },
                "downloads": -1,
                "filename": "toppingmaker-1.0.2-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "9fed01022c9425600c2bf50cf14d1c2c",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6",
                "size": 23542,
                "upload_time": "2022-09-14T15:03:38",
                "upload_time_iso_8601": "2022-09-14T15:03:38.472284Z",
                "url": "https://files.pythonhosted.org/packages/5a/06/9eb6ace5b8dedcaddafbf5df5ec4e32bfca347c73e856b84a88837430a0b/toppingmaker-1.0.2-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "d0a82ab788af8f22a2e30f1149d7bbff",
                    "sha256": "7bca83b637cc7fc251b0e85183d01777e801c304a416819a8ebfacc63bcafd4f"
                },
                "downloads": -1,
                "filename": "toppingmaker-1.0.2.tar.gz",
                "has_sig": false,
                "md5_digest": "d0a82ab788af8f22a2e30f1149d7bbff",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 22605,
                "upload_time": "2022-09-14T15:03:40",
                "upload_time_iso_8601": "2022-09-14T15:03:40.116238Z",
                "url": "https://files.pythonhosted.org/packages/29/c9/28e99179731d9fcfb96078d8c476437cf0c4be359b30a4a691c52732fe96/toppingmaker-1.0.2.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    },
    "1.0.3": {
        "info": {
            "author": "Dave Signer",
            "author_email": "david@opengis.ch",
            "bugtrack_url": null,
            "classifiers": [
                "License :: OSI Approved :: GNU General Public License v2 or later (GPLv2+)",
                "License :: OSI Approved :: MIT License",
                "Operating System :: OS Independent",
                "Programming Language :: Python :: 3",
                "Topic :: Scientific/Engineering :: GIS"
            ],
            "description": "# toppingmaker\nPackage to create parameterized QGIS projects and dump it into a YAML structure.\n\n## Installation\n```\npip install toppingmaker\n```\n\n## Structure\n\n```\ntoppingmaker\n\u251c\u2500\u2500 exportsettings.py\n\u251c\u2500\u2500 projecttopping.py\n\u251c\u2500\u2500 target.py\n\u2514\u2500\u2500 utils.py\n```\n\n## User Manual\n\nHaving a QGIS Project with some layers:\n\n![QGIS Project Layertree](assets/qgis_project_layertree.png)\n\n### Import the modules\n\n```py\nfrom qgis.core import QgsProject()\nfrom toppingmaker import ProjectTopping, ExportSettings, Target\n```\n\n### Create a `ProjectTopping` and parse the QGIS Project\n\n```py\nproject = QgsProject()\nproject_topping = ProjectTopping()\nproject_topping.parse_project(project)\n```\n\nThis parses the project, but does not yet write the files (only the style and definition file to a temp folder). The QgsProject object is not used anymore.\n\n### Create the `Target`\nTo write the files we need to define a `Target` object. The target defines where to store the topping files (YAML, style, definition etc.).\n\n```py\ntarget = Target(projectname=\"freddys_qgis_project\", main_dir=\"/home/fred/repo/\", sub_dir=\"freddys_qgis_topping\", pathresover = None)\n```\n\n### Generate the Files\n```py\nproject_topping.generate_files(target)\n```\n\nThe structure looks like this:\n\n```\nrepo\n\u2514\u2500\u2500 freddys_qgis_topping\n    \u2514\u2500\u2500 projecttopping\n        \u2514\u2500\u2500 freddys_qgis_project.yaml\n```\n\nAnd the YAML looks like this:\n\n```yaml\nlayerorder: []\nlayertree:\n- Street:\n    checked: true\n    expanded: true\n- Park:\n    checked: false\n    expanded: true\n- Building:\n    checked: true\n    expanded: true\n- Info Layers:\n    checked: true\n    child-nodes:\n    - AssetItem:\n        checked: true\n        expanded: true\n    - InternalProject:\n        checked: true\n        expanded: true\n    expanded: true\n    group: true\n- Background:\n    checked: true\n    child-nodes:\n    - Landeskarten (grau):\n        checked: true\n        expanded: true\n    expanded: true\n    group: true\n```\n\nThe structure is exported. But not any additional files. For that, we need to parse the `ExportSettings` to the `ProjectTopping`.\n\n### Create the `ExportSettings`:\n\nUse `QMLSTYLE` for the export of the qml stylefile.\nUse `DEFINITION` to export the qlr definition file.\nUSE `SOURCE` to store the source in the YAML tree.\n\nThe QgsLayerTreeNode or the layername can be used as key.\n\n```py\nexport_settings = ExportSettings()\nexport_settings.set_setting_values(\n    type = ExportSettings.ToppingType.QMLSTYLE, node = None, name = \"Street\", export = True\n)\nexport_settings.set_setting_values(\n    type = ExportSettings.ToppingType.SOURCE, node = None, name = \"Park\", export = True\n)\nexport_settings.set_setting_values(\n    type = ExportSettings.ToppingType.DEFINITION, node = None, name = \"Info Layers\", export = True\n)\nexport_settings.set_setting_values(\n    type = ExportSettings.ToppingType.SOURCE, node = None, name = \"Landeskarten (grau)\", export = True\n)\n```\n\nAdditionally you can pass category flags `QgsMapLayer.StyleCategories` to define what categories needs to be included in the QML Stylefile:\n\n```py\ncategory_flags = QgsMapLayer.StyleCategory.AllStyleCategories\n\nexport_settings.set_setting_values(\n    type = ExportSettings.ToppingType.QMLSTYLE, node = None, name = \"Street\", export = True, categories = category_flags\n)\n```\n\n### Generate the Files for a `ProjectTopping` containing `ExportSetting`\nWhen parsing the QgsProject we need to pass the `ExportSettings`:\n```\n\nproject_topping.parse_project(project, export_settings)\nproject_topping.generate_files(target)\n```\n\nThe structure looks like this:\n\n```\nrepo\n\u2514\u2500\u2500 freddys_qgis_topping\n    \u251c\u2500\u2500 layerdefinition\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 freddys_qgis_project_info_layers.qlr\n    \u2514\u2500\u2500 projecttopping\n        \u2514\u2500\u2500 freddys_qgis_project.yaml\n    \u2514\u2500\u2500 layerstyle\n        \u2514\u2500\u2500 freddys_qgis_project_street.qml\n```\n\nAnd the YAML looks like this:\n\n```yaml\nlayerorder: []\nlayertree:\n- Street:\n    checked: true\n    expanded: true\n    stylefile: freddys_qgis_topping/layerstyle/freddys_qgis_project_street.qml\n- Park:\n    checked: false\n    expanded: true\n    provider: ogr\n    uri: /home/freddy/qgis_projects/bakery/cityandcity.gpkg|layername=park\n- Building:\n    checked: true\n    expanded: true\n- Info Layers:\n    checked: true\n    definitionfile: freddys_qgis_topping/layerdefinition/freddys_qgis_project_info_layers.qlr\n    expanded: true\n    group: true\n- Background:\n    checked: true\n    child-nodes:\n    expanded: true\n    group: true\n    - Landeskarten (grau):\n        checked: true\n        expanded: true\n        provider: wms\n        uri: contextualWMSLegend=0&crs=EPSG:2056&dpiMode=7&featureCount=10&format=image/jpeg&layers=ch.swisstopo.pixelkarte-grau&styles&url=https://wms.geo.admin.ch/?%0ASERVICE%3DWMS%0A%26VERSION%3D1.3.0%0A%26REQUEST%3DGetCapabilities\n```\n\n## Most important functions\n### projecttopping.ProjectTopping\nA project configuration resulting in a YAML file that contains:\n- layertree\n- layerorder\n- project variables (future)\n- print layout (future)\n- map themes (future)\n\nQML style files, QLR layer definition files and the source of a layer can be linked in the YAML file and are exported to the specific folders.\n\n#### `parse_project( project: QgsProject, export_settings: ExportSettings = ExportSettings()`\nParses a project into the ProjectTopping structure. Means the LayerTreeNodes are loaded into the layertree variable and append the ExportSettings to each node. The CustomLayerOrder is loaded into the layerorder. The project is not kept as member variable.\n\n#### `generate_files(self, target: Target) -> str`\nGenerates all files according to the passed Target.\nThe target object containing the paths where to create the files and the path_resolver defining the structure of the link.\n\n#### `load_files(self, target: Target)`\nnot yet implemented\n\n#### `generate_project(self, target: Target) -> QgsProject`\nnot yet implemented\n\n### target.Target\nIf there is no subdir it will look like:\n```\n    <maindir>\n    \u251c\u2500\u2500 projecttopping\n    \u2502  \u2514\u2500\u2500 <projectname>.yaml\n    \u251c\u2500\u2500 layerstyle\n    \u2502  \u251c\u2500\u2500 <projectname>_<layername>.qml\n    \u2502  \u2514\u2500\u2500 <projectname>_<layername>.qml\n    \u2514\u2500\u2500 layerdefinition\n       \u2514\u2500\u2500 <projectname>_<layername>.qlr\n```\nWith subdir:\n```\n    <maindir>\n    \u2514\u2500\u2500 <subdir>\n       \u251c\u2500\u2500 projecttopping\n       \u2502  \u2514\u2500\u2500 <projectname>.yaml\n       \u251c\u2500\u2500 layerstyle\n       \u2502  \u251c\u2500\u2500 <projectname>_<layername>.qml\n       \u2502  \u2514\u2500\u2500 <projectname>_<layername>.qml\n       \u2514\u2500\u2500 layerdefinition\n          \u2514\u2500\u2500 <projectname>_<layername>.qlr\n```\n\nThe `path_resolver` can be passed as a function. The default implementation lists the created toppingfiles (including the YAML) in the dict `Target.toppingfileinfo_list` with the `\"path\": <relative_filepath>, \"type\": <filetype>`.\n\n#### `Target( projectname: str = \"project\", main_dir: str = None, sub_dir: str = None, path_resolver=None)`\nThe constructor of the target class to set up a target.\nA member variable `toppingfileinfo_list = []` is defined, to store all the information according the `path_resolver`.\n\n### exportsettings.ExportSettings\n\nThe requested export settings of each node in the specific dicts:\n- qmlstyle_setting_nodes\n- definition_setting_nodes\n- source_setting_nodes\n\nThe usual structure is using QgsLayerTreeNode as key and then export True/False\n\n```py\n{\n    <QgsLayerTreeNode(Node1)>: { export: False }\n    <QgsLayerTreeNode(Node2)>: { export: True }\n}\n```\n\nAlternatively the layername can be used as key. In ProjectTopping it first looks up the node and if not available the name.\nUsing the node is much more consistent, since one can use layers with the same name, but for nodes you need the project already in advance.\nWith name you can use prepared settings to pass (before the project exists) e.g. in automated workflows.\n```py\n{\n    \"Node1\": { export: False }\n    \"Node2\": { export: True }\n}\n```\n\nFor some settings we have additional info. Like in qmlstyle_nodes <QgsMapLayer.StyleCategories>. These are Flags, and can be constructed manually as well.\n```py\nqmlstyle_nodes =\n{\n    <QgsLayerTreeNode(Node1)>: { export: False }\n    <QgsLayerTreeNode(Node2)>: { export: True, categories: <QgsMapLayer.StyleCategories> }\n}\n```\n\n#### `set_setting_values( type: ToppingType, node: Union[QgsLayerTreeLayer, QgsLayerTreeGroup] = None, name: str = None, export=True categories=None, ) -> bool`\n\nSet the specific types concerning the enumerations:\n```py\nclass ToppingType(Enum):\n    QMLSTYLE = 1\n    DEFINITION = 2\n    SOURCE = 3\n\n```\n\n## Infos for Devs\n\n### Code style\n\nIs enforced with pre-commit. To use, make:\n```\npip install pre-commit\npre-commit install\n```\nAnd to run it over all the files (with infile changes):\n```\npre-commit run --color=always --all-file\n```\n",
            "description_content_type": "text/markdown",
            "docs_url": null,
            "download_url": "",
            "downloads": {
                "last_day": -1,
                "last_month": -1,
                "last_week": -1
            },
            "home_page": "https://github.com/opengisch/toppingmaker",
            "keywords": "",
            "license": "",
            "maintainer": "",
            "maintainer_email": "",
            "name": "toppingmaker",
            "package_url": "https://pypi.org/project/toppingmaker/",
            "platform": null,
            "project_url": "https://pypi.org/project/toppingmaker/",
            "project_urls": {
                "Homepage": "https://github.com/opengisch/toppingmaker"
            },
            "release_url": "https://pypi.org/project/toppingmaker/1.0.3/",
            "requires_dist": null,
            "requires_python": ">=3.6",
            "summary": "Package to create parameterized QGIS projects and dump it into a YAML structure.",
            "version": "1.0.3",
            "yanked": false,
            "yanked_reason": null
        },
        "last_serial": 15721611,
        "urls": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "9ff9725875a9eea6ad1ba0e2aa3a01b6",
                    "sha256": "cf9c0a661ce0dd817ed737e97c02ea3704292d6d80a3aba8f756e4fe13a39b4d"
                },
                "downloads": -1,
                "filename": "toppingmaker-1.0.3-py3-none-any.whl",
                "has_sig": false,
                "md5_digest": "9ff9725875a9eea6ad1ba0e2aa3a01b6",
                "packagetype": "bdist_wheel",
                "python_version": "py3",
                "requires_python": ">=3.6",
                "size": 23544,
                "upload_time": "2022-09-30T11:59:42",
                "upload_time_iso_8601": "2022-09-30T11:59:42.599862Z",
                "url": "https://files.pythonhosted.org/packages/68/e9/9abc0a67aca91e75920e8d46a064855aa05f86428394ba16badd9f86e32e/toppingmaker-1.0.3-py3-none-any.whl",
                "yanked": false,
                "yanked_reason": null
            },
            {
                "comment_text": "",
                "digests": {
                    "md5": "e92ce6d64c3735315da5e483c7ba6e4e",
                    "sha256": "4795498064bc15d93adf76ccbb89781db45a02422091cfdaeb1f07dff79bb20d"
                },
                "downloads": -1,
                "filename": "toppingmaker-1.0.3.tar.gz",
                "has_sig": false,
                "md5_digest": "e92ce6d64c3735315da5e483c7ba6e4e",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": ">=3.6",
                "size": 22595,
                "upload_time": "2022-09-30T11:59:44",
                "upload_time_iso_8601": "2022-09-30T11:59:44.132180Z",
                "url": "https://files.pythonhosted.org/packages/5b/fa/e7370c2349e23352569114a3e0be819c4a6d2f2b0b6666713448a63c07d5/toppingmaker-1.0.3.tar.gz",
                "yanked": false,
                "yanked_reason": null
            }
        ],
        "vulnerabilities": []
    }
}